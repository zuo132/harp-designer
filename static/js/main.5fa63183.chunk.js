(this["webpackJsonpharp-designer"]=this["webpackJsonpharp-designer"]||[]).push([[0],{104:function(e,t,n){},105:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n(28),c=n.n(a),i=n(13),s=n(26),o=n(62),u=n(80),l=n(21),d=n(2),j=n(15),b=function(e,t){return e*t+200},h=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:600;return n-e*t};function O(e,t,n,r){var a=1-e;return a*a*t+2*a*e*n+e*e*r}var m,f,g,p,x,y,v,k,T,S,N,P,D,A,C,M,E,w,L,_=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.14,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,c=a||Math.pow(n/2,2)*Math.PI*r*1e3;return Math.pow(2*t*e,2)*c/9.807},q=function(e){return 2.54*e/100},F=function(e){var t,n;return t=3===e.length?e.charAt(2):e.charAt(1),n=(n=["A","A#","B","C","C#","D","D#","E","F","F#","G","G#"].indexOf(e.slice(0,-1)))<3?n+12+12*(t-1)+1:n+12*(t-1)+1,440*Math.pow(2,(n-49)/12)},I=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"C2",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"C Major",r=["C","D","E","F","G","A","B"],a=["C","D","D#","F","G","G#","A#"],c=["C","C#","D#","F","G","G#","A#"],i="C Major"===n?r:"E Flat Major"===n?a:c,s=t.charAt(0),o=parseInt(t.charAt(t.length-1)),u=s.charCodeAt(0)-"C".charCodeAt(0),l=e.map((function(e,t){var n=i[(t+u)%7]+(o+Math.floor((t+u)/7));return Object(d.a)(Object(d.a)({},e),{},{note:n,frequency:F(n)})}));return l},B=function(e,t,n){return n/(e*t)},U=function(e){return Math.pow(e/1e3/2,2)*Math.PI},G=function(e,t){return e/1e3*(t/1e3)},R=I([{id:"1",frequency:1864.655,length:80,tension:6.661,diameter:.025},{id:"2",frequency:1760,length:100,tension:9.272,diameter:.025},{id:"3",frequency:1567.982,length:123,tension:11.134,diameter:.025},{id:"4",frequency:1396.913,length:145,tension:12.281,diameter:.025},{id:"5",frequency:1318.51,length:165,tension:14.168,diameter:.025},{id:"6",frequency:1174.659,length:175,tension:12.649,diameter:.025},{id:"7",frequency:1046.502,length:190,tension:11.835,diameter:.025},{id:"8",frequency:932.328,length:225,tension:16.524,diameter:.028},{id:"9",frequency:880,length:240,tension:16.749,diameter:.028},{id:"10",frequency:783.991,length:260,tension:15.602,diameter:.028},{id:"11",frequency:698.456,length:275,tension:13.853,diameter:.028},{id:"12",frequency:659.255,length:295,tension:18.55,diameter:.032},{id:"13",frequency:587.33,length:315,tension:16.787,diameter:.032},{id:"14",frequency:523.251,length:330,tension:14.623,diameter:.032},{id:"15",frequency:466.164,length:348,tension:12.907,diameter:.032},{id:"16",frequency:440,length:370,tension:12.999,diameter:.032},{id:"17",frequency:391.995,length:390,tension:14.507,diameter:.036},{id:"18",frequency:349.228,length:415,tension:13.038,diameter:.036},{id:"19",frequency:329.628,length:445,tension:13.355,diameter:.036},{id:"20",frequency:293.665,length:477,tension:15.036,diameter:.04},{id:"21",frequency:261.626,length:510,tension:23.057,diameter:.052},{id:"22",frequency:233.082,length:545,tension:20.898,diameter:.052},{id:"23",frequency:220,length:585,tension:21.451,diameter:.052},{id:"24",frequency:195.998,length:628,tension:19.621,diameter:.052},{id:"25",frequency:174.614,length:675,tension:17.991,diameter:.052},{id:"26",frequency:164.814,length:728,tension:18.644,diameter:.052},{id:"27",frequency:146.832,length:785,tension:19.955,diameter:.056},{id:"28",frequency:130.813,length:850,tension:21.317,diameter:.06},{id:"29",frequency:116.541,length:900,tension:22.262,diameter:.065},{id:"30",frequency:110,length:950,tension:30.21,diameter:.076},{id:"31",frequency:97.999,length:1e3,tension:29.438,diameter:.08},{id:"32",frequency:87.307,length:1045,tension:28.804,diameter:.085},{id:"33",frequency:82.407,length:1090,tension:32,diameter:.091},{id:"34",frequency:73.416,length:1130,tension:30.378,diameter:.096},{id:"35",frequency:65.406,length:1168,tension:27.952,diameter:.1},{id:"36",frequency:58.27,length:1205,tension:23.613,diameter:.1}].reverse()).map((function(e,t,n){var r=n.length-t-1,a=.71*Math.pow(r,2)+7*r+100;return Object(d.a)(Object(d.a)({},e),{},{length:a,diameter:1e3*q(e.diameter),tension:_(a/1e3,e.frequency,q(e.diameter)),materialDensity:1.14,linearMassDensity:0})})),W={strings:R,defaultStringLengths:R.map((function(e){return e.length})),selectedString:null,stringSpacing:10,yOffset:0,materialDensity:1.14,tuning:"C Major",stringNumber:36,lowestNote:"C2",totalLoad:R.reduce((function(e,t){return e+t.tension}),0)},H=Object(j.b)(W,{SELECT_STRING:function(e,t){var n=t.payload,r=e.strings.find((function(e){return e.id===n.stringId}));return Object(d.a)(Object(d.a)({},e),{},{selectedString:r})},UPDATE_STRING:function(e,t){var n=t.payload,r=e.strings.find((function(e){return e.id===n.stringId}));Object.keys(n.params).forEach((function(e){r[e]=n.params[e]})),e.selectedString=r,e.totalLoad=e.strings.reduce((function(e,t){return e+t.tension}),0)},UPDATE_STRING_MATERIAL_DENSITY:function(e,t){var n=t.payload;e.strings.forEach((function(e){e.tension=_(e.length/1e3,e.frequency,e.diameter/1e3,n.density),e.materialDensity=n.density})),e.materialDensity=n.density,e.selectedString&&(e.selectedString=e.strings.find((function(t){return t.id===e.selectedString.id}))),e.totalLoad=e.strings.reduce((function(e,t){return e+t.tension}),0)},UPDATE_TUNING:function(e,t){var n=t.payload;e.strings=I(e.strings,e.lowestNote,n.tuning),e.strings.forEach((function(e){e.tension=_(e.length/1e3,e.frequency,e.diameter/1e3,e.materialDensity,e.materialDensity<=0?0:e.linearMassDensity)})),e.tuning=n.tuning,e.selectedString&&(e.selectedString=e.strings.find((function(t){return t.id===e.selectedString.id}))),e.totalLoad=e.strings.reduce((function(e,t){return e+t.tension}),0)},UPDATE_STRING_NUMBER:function(e,t){var n=t.payload,r=e.strings,a=[],c=n.stringNumber-e.stringNumber;if(c>0){for(var i=[],s=0;s<c;s++){var o=e.strings.length+s,u={id:o+1+"",length:.71*Math.pow(o,2)+7*o+100,diameter:e.strings[0].diameter,materialDensity:e.materialDensity};i.push(u)}r=(r=I([].concat(Object(l.a)(i.reverse()),Object(l.a)(e.strings)),e.lowestNote,e.tuning)).map((function(e){var t=_(e.length/1e3,e.frequency,e.diameter/1e3,e.materialDensity,e.materialDensity<=0?0:e.linearMassDensity);return Object(d.a)(Object(d.a)({},e),{},{tension:t})})),a=[].concat(Object(l.a)(i.map((function(e){return e.length}))),Object(l.a)(e.defaultStringLengths))}else c<0&&(r=I(e.strings.slice(Math.abs(c)),e.lowestNote,e.tuning).map((function(e){var t=_(e.length/1e3,e.frequency,e.diameter/1e3,e.materialDensity,e.materialDensity<=0?0:e.linearMassDensity);return Object(d.a)(Object(d.a)({},e),{},{tension:t})})),a=e.defaultStringLengths.slice(Math.abs(c)));return Object(d.a)(Object(d.a)({},e),{},{stringNumber:n.stringNumber,strings:r,defaultStringLengths:a,totalLoad:e.strings.reduce((function(e,t){return e+t.tension}),0),selectedString:null})},UPDATE_LOWEST_NOTE:function(e,t){var n=t.payload,r=I(e.strings,n.lowestNote,e.tuning);return r=r.map((function(e){var t=_(e.length/1e3,e.frequency,e.diameter/1e3,e.materialDensity,e.materialDensity<=0?0:e.linearMassDensity);return Object(d.a)(Object(d.a)({},e),{},{tension:t})})),Object(d.a)(Object(d.a)({},e),{},{lowestNote:n.lowestNote,strings:r,totalLoad:r.reduce((function(e,t){return e+t.tension}),0),selectedString:e.selectedString&&r.find((function(t){return t.id===e.selectedString.id}))})},UPDATE_Y_OFFSET:function(e,t){var n=t.payload;return Object(d.a)(Object(d.a)({},e),{},{yOffset:n.yOffset})}}),J=Object(j.b)({angle:50,control:null,stringBandThickness:20,length:0},{UPDATE_SOUNDBOARD_ANGLE:function(e,t){var n=t.payload;return Object(d.a)(Object(d.a)({},e),{},{angle:n.angle})},UPDATE_CONTROL_POSITION:function(e,t){var n=t.payload;return Object(d.a)(Object(d.a)({},e),{},{control:n.position})},UPDATE_STRING_BAND_THICKNESS:function(e,t){var n=t.payload;return Object(d.a)(Object(d.a)({},e),{},{stringBandThickness:n.thickness})},UPDATE_SOUNDBOARD_LENGTH:function(e,t){var n=t.payload;return Object(d.a)(Object(d.a)({},e),{},{length:n.length})}}),K=Object(j.b)({shape:"Straight",pillarDiameter:30,pillarWidth:40,pillarThickness:20,neckJointWidth:2},{UPDATE_PILLAR_SHAPE:function(e,t){var n=t.payload;return Object(d.a)(Object(d.a)({},e),{},{shape:n.shape})},UPDATE_PILLAR_DIAMETER:function(e,t){var n=t.payload;return Object(d.a)(Object(d.a)({},e),{},{pillarDiameter:n.diameter})},UPDATE_PILLAR_WIDTH:function(e,t){var n=t.payload;return Object(d.a)(Object(d.a)({},e),{},{pillarWidth:n.width})},UPDATE_PILLAR_THICKNESS:function(e,t){var n=t.payload;return Object(d.a)(Object(d.a)({},e),{},{pillarThickness:n.thickness})},UPDATE_NECK_JOINT_WIDTH:function(e,t){var n=t.payload;return Object(d.a)(Object(d.a)({},e),{},{neckJointWidth:n.width})}}),Y=Object(j.b)({neckThickness:40,tuningPinLength:20,frontNeckThickness:15,backNeckThickness:15,frontNeckTuningPostLength:10,backNeckTuningPostLength:10,neckStyle:"Standard"},{UPDATE_NECK_THICKNESS:function(e,t){var n=t.payload;return Object(d.a)(Object(d.a)({},e),{},{neckThickness:n.thickness})},UPDATE_TUNING_PIN_LENGTH:function(e,t){var n=t.payload;return Object(d.a)(Object(d.a)({},e),{},{tuningPinLength:n.length})},UPDATE_PARAGUAYAN_PARAMS:function(e,t){var n=t.payload;Object.keys(n.params).forEach((function(t){e[t]=n.params[t]}))},UPDATE_NECK_STYLE:function(e,t){var n=t.payload;return Object(d.a)(Object(d.a)({},e),{},{neckStyle:n.style})}}),z=Object(j.b)({backgroundColor:"burlywood"},{UPDATE_BACKGROUND_COLOR:function(e,t){var n=t.payload;return Object(d.a)(Object(d.a)({},e),{},{backgroundColor:n.color})}}),X=Object(s.combineReducers)({string:H,soundboard:J,pillar:K,neck:Y,settings:z}),Q=[o.a],V=Object(s.createStore)(X,{},Object(u.composeWithDevTools)(s.applyMiddleware.apply(void 0,Q))),Z=n(17),$=n(116),ee=n(113),te=n(115),ne=n(114),re=n(81),ae=n(18),ce=n(4),ie=n(117),se=n(82),oe=n(14),ue=n.n(oe),le=n(19),de=n(1),je=function(){var e=Object(i.b)(),t=Object(i.c)((function(e){return e.string})),n=t.strings,a=t.stringNumber,c=t.lowestNote,s=0;n.forEach((function(e){s+=e.tension}));var o=Object(r.useState)(a),u=Object(ce.a)(o,2),l=u[0],d=u[1],b=Object(r.useState)(c),h=Object(ce.a)(b,2),O=h[0],m=h[1];return Object(de.jsxs)(de.Fragment,{children:[Object(de.jsx)("h5",{children:"Overview"}),Object(de.jsxs)("span",{children:["Total Tension: ",Object(de.jsx)("b",{children:s.toFixed(2)})," kg"]}),Object(de.jsx)("p",{}),Object(de.jsxs)(ie.a,{onSubmit:function(t){t.preventDefault(),O!==c&&e(function(e){return function(){var t=Object(le.a)(ue.a.mark((function t(n){return ue.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n(Object(j.a)("UPDATE_LOWEST_NOTE")({lowestNote:e}));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(O)),parseInt(l)!==a&&e(function(e){return function(){var t=Object(le.a)(ue.a.mark((function t(n){return ue.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n(Object(j.a)("UPDATE_STRING_NUMBER")({stringNumber:e}));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(parseInt(l)))},children:[Object(de.jsxs)(be,{children:[Object(de.jsxs)(ie.a.Group,{className:"mb-3",children:[Object(de.jsx)(ie.a.Label,{children:"Number of Strings"}),Object(de.jsx)(ie.a.Control,{type:"number",value:l,onChange:function(e){return d(e.target.value)}})]}),Object(de.jsxs)(ie.a.Group,{className:"mb-3",children:[Object(de.jsx)(ie.a.Label,{children:"Lowest Note"}),Object(de.jsx)(ie.a.Control,{type:"text",value:O,onChange:function(e){return m(e.target.value)}})]})]}),Object(de.jsx)(se.a,{className:"btn-sm",type:"submit",variant:"secondary",children:"Apply"})]})]})},be=ae.a.div(m||(m=Object(Z.a)(["\n  display: flex;\n  justify-content: space-between;\n"]))),he=n(111),Oe=function(e){return function(){var t=Object(le.a)(ue.a.mark((function t(n){return ue.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n(Object(j.a)("UPDATE_CONTROL_POSITION")({position:e}));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},me=function(e){return function(){var t=Object(le.a)(ue.a.mark((function t(n){return ue.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n(Object(j.a)("UPDATE_SOUNDBOARD_LENGTH")({length:e}));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},fe=function(){var e=Object(i.b)(),t=Object(i.c)((function(e){return e.string})).totalLoad,n=Object(i.c)((function(e){return e.soundboard})),a=n.angle,c=n.stringBandThickness,s=n.length,o=Object(r.useState)(a),u=Object(ce.a)(o,2),l=u[0],d=u[1],b=Object(r.useState)(c),h=Object(ce.a)(b,2),O=h[0],m=h[1];return Object(de.jsxs)(ie.a,{onSubmit:function(t){var n;t.preventDefault(),l&&l!==a&&e(function(e){return function(){var t=Object(le.a)(ue.a.mark((function t(n){return ue.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n(Object(j.a)("UPDATE_SOUNDBOARD_ANGLE")({angle:e}));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(parseInt(l))),O&&O!==c&&e((n=O,function(){var e=Object(le.a)(ue.a.mark((function e(t){return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t(Object(j.a)("UPDATE_STRING_BAND_THICKNESS")({thickness:n}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()))},children:[Object(de.jsx)("h5",{children:"Soundboard"}),Object(de.jsxs)(ie.a.Group,{className:"mb-3",children:[Object(de.jsx)(ie.a.Label,{children:"Soundboard Angle"}),Object(de.jsxs)(he.a,{children:[Object(de.jsx)(ie.a.Control,{type:"number",value:l,onChange:function(e){return d(e.target.value)}}),Object(de.jsx)(ge,{children:"\xb0"})]})]}),Object(de.jsxs)("p",{children:["Tensile Stress:"," ",Object(de.jsx)("b",{children:(B(s/1e3,c/1e3,.5*t*9.807)/1e6).toFixed(6)})," ","MPa"]}),Object(de.jsxs)(ie.a.Group,{className:"mb-3",children:[Object(de.jsx)(ie.a.Label,{children:"String Band Thickness"}),Object(de.jsxs)(he.a,{children:[Object(de.jsx)(ie.a.Control,{type:"number",value:O,onChange:function(e){return m(e.target.value)}}),Object(de.jsx)(ge,{children:"mm"})]})]}),Object(de.jsx)(se.a,{className:"btn-sm",type:"submit",variant:"secondary",children:"Apply"})]})},ge=Object(ae.a)(he.a.Text)(f||(f=Object(Z.a)(["\n  min-width: 70px;\n  display: inline-block;\n  text-align: center;\n"]))),pe=function(){var e=Object(i.b)(),t=Object(i.c)((function(e){return e.string})).totalLoad,n=Object(i.c)((function(e){return e.pillar})),a=n.shape,c=n.pillarDiameter,s=n.pillarWidth,o=n.pillarThickness,u=n.neckJointWidth,l=Object(r.useState)(c),d=Object(ce.a)(l,2),b=d[0],h=d[1],O=Object(r.useState)(s),m=Object(ce.a)(O,2),f=m[0],g=m[1],p=Object(r.useState)(o),x=Object(ce.a)(p,2),y=x[0],v=x[1],k=Object(r.useState)(u),T=Object(ce.a)(k,2),S=T[0],N=T[1],P=function(t){e(function(e){return function(){var t=Object(le.a)(ue.a.mark((function t(n){return ue.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n(Object(j.a)("UPDATE_PILLAR_SHAPE")({shape:e}));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(t))};return Object(de.jsxs)(de.Fragment,{children:[Object(de.jsx)("h5",{children:"Pillar"}),Object(de.jsx)(xe,{variant:"Straight"===a?"primary":"secondary",onClick:function(){return P("Straight")},children:"Straight"}),Object(de.jsx)(xe,{variant:"D Shape"===a?"primary":"secondary",onClick:function(){return P("D Shape")},children:"D Shape"}),Object(de.jsxs)("p",{children:["Compresive Stress:"," ",Object(de.jsx)("b",{children:(.6*t*9.807/("Straight"===a?U(c):G(s,o))/1e6).toFixed(6)})," MPa"]}),"Straight"===a?Object(de.jsxs)(ie.a,{onSubmit:function(t){t.preventDefault(),e(function(e){return function(){var t=Object(le.a)(ue.a.mark((function t(n){return ue.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n(Object(j.a)("UPDATE_PILLAR_DIAMETER")({diameter:e}));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(b))},children:[Object(de.jsxs)(ie.a.Group,{className:"mb-3",children:[Object(de.jsx)(ie.a.Label,{children:"Pillar Diameter"}),Object(de.jsxs)(he.a,{children:[Object(de.jsx)(ie.a.Control,{type:"number",value:b,onChange:function(e){return h(e.target.value)}}),Object(de.jsx)(ye,{children:"mm"})]})]}),Object(de.jsx)(se.a,{className:"btn-sm",type:"submit",variant:"secondary",disabled:!b,children:"Apply"})]}):Object(de.jsxs)(ie.a,{onSubmit:function(t){t.preventDefault(),f&&f!==s&&e(function(e){return function(){var t=Object(le.a)(ue.a.mark((function t(n){return ue.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n(Object(j.a)("UPDATE_PILLAR_WIDTH")({width:e}));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(f)),y&&y!==o&&e(function(e){return function(){var t=Object(le.a)(ue.a.mark((function t(n){return ue.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n(Object(j.a)("UPDATE_PILLAR_THICKNESS")({thickness:e}));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(y)),S&&S!==u&&e(function(e){return function(){var t=Object(le.a)(ue.a.mark((function t(n){return ue.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n(Object(j.a)("UPDATE_NECK_JOINT_WIDTH")({width:e}));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(parseInt(S)))},children:[Object(de.jsxs)(ie.a.Group,{className:"mb-1",children:[Object(de.jsx)(ie.a.Label,{children:"Pillar Width"}),Object(de.jsxs)(he.a,{children:[Object(de.jsx)(ie.a.Control,{type:"number",value:f,onChange:function(e){return g(e.target.value)}}),Object(de.jsx)(ye,{children:"mm"})]})]}),Object(de.jsxs)(ie.a.Group,{className:"mb-1",children:[Object(de.jsx)(ie.a.Label,{children:"Pillar Thickness"}),Object(de.jsxs)(he.a,{children:[Object(de.jsx)(ie.a.Control,{type:"number",value:y,onChange:function(e){return v(e.target.value)}}),Object(de.jsx)(ye,{children:"mm"})]})]}),Object(de.jsxs)(ie.a.Group,{className:"mb-3",children:[Object(de.jsx)(ie.a.Label,{children:"Neck Joint Width"}),Object(de.jsx)(ie.a.Range,{max:5,min:1,value:S,onChange:function(e){return N(e.target.value)}})]}),Object(de.jsx)(se.a,{className:"btn-sm",type:"submit",variant:"secondary",children:"Apply"})]})]})},xe=Object(ae.a)(se.a)(g||(g=Object(Z.a)(["\n  margin: 0 1rem 1rem 0;\n"]))),ye=Object(ae.a)(he.a.Text)(p||(p=Object(Z.a)(["\n  min-width: 70px;\n  display: inline-block;\n  text-align: center;\n"]))),ve=n(118),ke=n(112),Te=function(e){return function(){var t=Object(le.a)(ue.a.mark((function t(n){return ue.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n(Object(j.a)("UPDATE_NECK_STYLE")({style:e}));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},Se=function(){var e=Object(i.b)(),t=Object(i.c)((function(e){return e.string})),n=t.strings,a=t.stringSpacing,c=t.stringNumber,s=t.totalLoad,o=Object(i.c)((function(e){return e.neck})),u=o.neckThickness,d=o.tuningPinLength,h=o.frontNeckThickness,O=o.frontNeckTuningPostLength,m=o.backNeckThickness,f=o.backNeckTuningPostLength,g=o.neckStyle,p=Object(r.useState)(u),x=Object(ce.a)(p,2),y=x[0],v=x[1],k=Object(r.useState)(d),T=Object(ce.a)(k,2),S=T[0],N=T[1],P=Object(r.useState)(h),D=Object(ce.a)(P,2),A=D[0],C=D[1],M=Object(r.useState)(O),E=Object(ce.a)(M,2),w=E[0],L=E[1],_=Object(r.useState)(m),q=Object(ce.a)(_,2),F=q[0],I=q[1],U=Object(r.useState)(f),G=Object(ce.a)(U,2),R=G[0],W=G[1],H=Object(r.useMemo)((function(){var e=0;return Object(l.a)(n).reverse().forEach((function(t,n){n%2===0&&(e+=t.tension)})),e}),[n]),J=Object(r.useMemo)((function(){var e=0;return Object(l.a)(n).reverse().forEach((function(t,n){n%2===1&&(e+=t.tension)})),e}),[n]),K=Object(r.useMemo)((function(){return O/1e3*H*9.807-f/1e3*J*9.807}),[O,f,H,J]);return Object(de.jsxs)(de.Fragment,{children:[Object(de.jsx)("h5",{children:"Neck"}),Object(de.jsx)(Pe,{variant:"Standard"===g?"primary":"secondary",onClick:function(){return"Standard"!==g&&e(Te("Standard"))},children:"Standard"}),Object(de.jsx)(Pe,{variant:"Paraguayan"===g?"primary":"secondary",onClick:function(){return"Paraguayan"!==g&&e(Te("Paraguayan"))},children:"Paraguayan"}),Object(de.jsxs)(ie.a,{onSubmit:function(t){var n,r;t.preventDefault(),"Standard"===g?(e(function(e){return function(){var t=Object(le.a)(ue.a.mark((function t(n){return ue.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n(Object(j.a)("UPDATE_NECK_THICKNESS")({thickness:e}));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(parseFloat(y))),e((r=parseFloat(S),function(){var e=Object(le.a)(ue.a.mark((function e(t){return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t(Object(j.a)("UPDATE_TUNING_PIN_LENGTH")({length:r}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()))):"Paraguayan"===g&&e((n={frontNeckThickness:A,frontNeckTuningPostLength:w,backNeckThickness:F,backNeckTuningPostLength:R},function(){var e=Object(le.a)(ue.a.mark((function e(t){return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t(Object(j.a)("UPDATE_PARAGUAYAN_PARAMS")({params:n}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()))},children:["Standard"===g&&Object(de.jsxs)(de.Fragment,{children:[Object(de.jsxs)("p",{children:["Tensile Stress:"," ",Object(de.jsx)("b",{children:(B((b(c+3,a)+20-(b(-4,a)-30))/.4/1e3,u/1e3,9.807*s)/1e6).toFixed(6)})," ","MPa"]}),Object(de.jsxs)("p",{children:["Torque: ",Object(de.jsx)("b",{children:(d/1e3*s*9.807).toFixed(6)})," N m"]}),Object(de.jsxs)(ie.a.Group,{className:"mb-1",children:[Object(de.jsx)(ie.a.Label,{children:"Neck Thickness"}),Object(de.jsxs)(he.a,{children:[Object(de.jsx)(ie.a.Control,{type:"number",value:y,onChange:function(e){return v(e.target.value)}}),Object(de.jsx)(Ne,{children:"mm"})]})]}),Object(de.jsxs)(ie.a.Group,{className:"mb-3",children:[Object(de.jsx)(ie.a.Label,{children:"Tuning Pin Length"}),Object(de.jsxs)(he.a,{children:[Object(de.jsx)(ie.a.Control,{type:"number",value:S,onChange:function(e){return N(e.target.value)}}),Object(de.jsx)(Ne,{children:"mm"})]})]})]}),"Paraguayan"===g&&Object(de.jsxs)(de.Fragment,{children:[Object(de.jsx)(ve.a,{placement:"right",overlay:Object(de.jsxs)(ke.a,{id:"torque-imbalance-tooltip",children:["Front neck torque is ",Math.abs(K).toFixed(6)," Nm"," ",K>0?"greater":"less"," than back neck torque"]}),children:Object(de.jsxs)(De,{children:["Torque Imbalance ",Object(de.jsx)("b",{children:K.toFixed(6)})," N m"]})}),Object(de.jsx)("p",{children:Object(de.jsx)("b",{children:"Front Neck"})}),Object(de.jsxs)("p",{children:["Tensile Stress:"," ",Object(de.jsx)("b",{children:(B((b(c+3,a)+20-(b(-4,a)-30))/.4/1e3,h/1e3,H/2*9.807)/1e6).toFixed(6)})," ","MPa"]}),Object(de.jsxs)(ie.a.Group,{className:"mb-1",children:[Object(de.jsx)(ie.a.Label,{children:"Neck Thickness"}),Object(de.jsxs)(he.a,{children:[Object(de.jsx)(ie.a.Control,{type:"number",value:A,onChange:function(e){return C(e.target.value)}}),Object(de.jsx)(Ne,{children:"mm"})]})]}),Object(de.jsxs)(ie.a.Group,{className:"mb-3",children:[Object(de.jsx)(ie.a.Label,{children:"Tuning Post Length"}),Object(de.jsxs)(he.a,{children:[Object(de.jsx)(ie.a.Control,{type:"number",value:w,onChange:function(e){return L(e.target.value)}}),Object(de.jsx)(Ne,{children:"mm"})]})]}),Object(de.jsx)("p",{children:Object(de.jsx)("b",{children:"Back Neck"})}),Object(de.jsxs)("p",{children:["Tensile Stress:"," ",Object(de.jsx)("b",{children:(B((b(c+3,a)+20-(b(-4,a)-30))/.4/1e3,m/1e3,J/2*9.807)/1e6).toFixed(6)})," ","MPa"]}),Object(de.jsxs)(ie.a.Group,{className:"mb-1",children:[Object(de.jsx)(ie.a.Label,{children:"Neck Thickness"}),Object(de.jsxs)(he.a,{children:[Object(de.jsx)(ie.a.Control,{type:"number",value:F,onChange:function(e){return I(e.target.value)}}),Object(de.jsx)(Ne,{children:"mm"})]})]}),Object(de.jsxs)(ie.a.Group,{className:"mb-3",children:[Object(de.jsx)(ie.a.Label,{children:"Tuning Post Length"}),Object(de.jsxs)(he.a,{children:[Object(de.jsx)(ie.a.Control,{type:"number",value:R,onChange:function(e){return W(e.target.value)}}),Object(de.jsx)(Ne,{children:"mm"})]})]})]}),Object(de.jsx)(se.a,{className:"btn-sm",type:"submit",variant:"secondary",children:"Apply"})]})]})},Ne=Object(ae.a)(he.a.Text)(x||(x=Object(Z.a)(["\n  min-width: 70px;\n  display: inline-block;\n  text-align: center;\n"]))),Pe=Object(ae.a)(se.a)(y||(y=Object(Z.a)(["\n  margin: 0 1rem 1rem 0;\n"]))),De=ae.a.span(v||(v=Object(Z.a)(["\n  display: inline-block;\n  margin-bottom: 1rem;\n"]))),Ae=function(){var e=Object(i.b)(),t=Object(i.c)((function(e){return e.string})).tuning,n=function(t){e(function(e){return function(){var t=Object(le.a)(ue.a.mark((function t(n){return ue.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n(Object(j.a)("UPDATE_TUNING")({tuning:e}));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(t))};return Object(de.jsxs)(de.Fragment,{children:[Object(de.jsx)("h5",{children:"Tuning"}),Object(de.jsx)(Ce,{variant:"C Major"===t?"primary":"secondary",onClick:function(){return n("C Major")},children:"C Major"}),Object(de.jsx)(Ce,{variant:"E Flat Major"===t?"primary":"secondary",onClick:function(){return n("E Flat Major")},children:"E \u266d Major"}),Object(de.jsx)(Ce,{variant:"A Flat Major"===t?"primary":"secondary",onClick:function(){return n("A Flat Major")},children:"A \u266d Major"})]})},Ce=Object(ae.a)(se.a)(k||(k=Object(Z.a)(["\n  margin-right: 1rem;\n  margin-bottom: 0.5rem;\n"]))),Me=function(){var e=Object(i.b)(),t=Object(i.c)((function(e){return e.string})).materialDensity,n=Object(r.useState)(t),a=Object(ce.a)(n,2),c=a[0],s=a[1],o=function(t){e(function(e){return function(){var t=Object(le.a)(ue.a.mark((function t(n){return ue.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n(Object(j.a)("UPDATE_STRING_MATERIAL_DENSITY")({density:e}));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(t))};return Object(de.jsxs)(de.Fragment,{children:[Object(de.jsx)("h5",{children:Object(de.jsx)(ve.a,{placement:"right",overlay:Object(de.jsx)(ke.a,{children:"This setting applies to all strings"}),children:Object(de.jsx)("span",{children:"String Material (global)"})})}),Object(de.jsx)(Ee,{variant:1.14===c?"primary":1.14===t?"dark":"secondary",onClick:function(){return s(1.14)},children:"Nylon"}),Object(de.jsx)(Ee,{variant:8.77===c?"primary":8.77===t?"dark":"secondary",onClick:function(){return s(8.77)},children:"Brass"}),Object(de.jsx)(Ee,{variant:7.8===c?"primary":7.8===t?"dark":"secondary",onClick:function(){return s(7.8)},children:"Steel"}),Object(de.jsx)(Ee,{variant:8.94===c?"primary":8.94===t?"dark":"secondary",onClick:function(){return s(8.94)},children:"Copper"}),Object(de.jsx)(Ee,{variant:8.85===c?"primary":8.85===t?"dark":"secondary",onClick:function(){return s(8.85)},children:"Phosphor Bronze"}),Object(de.jsx)(we,{className:"btn-sm mt-2",variant:"secondary",onClick:function(){return o(c)},disabled:t===c,children:"Apply"})]})},Ee=Object(ae.a)(se.a)(T||(T=Object(Z.a)(["\n  margin-right: 1rem;\n  margin-bottom: 0.5rem;\n"]))),we=Object(ae.a)(se.a)(S||(S=Object(Z.a)(["\n  display: block;\n"]))),Le=[{name:"d\u2019Addario PB020 0.51mm",diameter:.51,linearMassDensity:.00145},{name:"d\u2019Addario PB021 0.53mm",diameter:.53,linearMassDensity:.0016},{name:"d\u2019Addario PB022 0.56mm",diameter:.56,linearMassDensity:.00176},{name:"d\u2019Addario PB023 0.58mm",diameter:.58,linearMassDensity:.00193},{name:"d\u2019Addario PB024 0.61mm",diameter:.61,linearMassDensity:.00209},{name:"d\u2019Addario PB025 0.64mm",diameter:.64,linearMassDensity:.00227},{name:"d\u2019Addario PB026 0.66mm",diameter:.66,linearMassDensity:.00244},{name:"d\u2019Addario PB027 0.69mm",diameter:.69,linearMassDensity:.00265},{name:"d\u2019Addario PB029 0.74mm",diameter:.74,linearMassDensity:.0031},{name:"d\u2019Addario PB030 0.76mm",diameter:.76,linearMassDensity:.00333},{name:"d\u2019Addario PB032 0.81mm",diameter:.81,linearMassDensity:.00375},{name:"d\u2019Addario PB034 0.86mm",diameter:.86,linearMassDensity:.00427},{name:"d\u2019Addario PB035 0.89mm",diameter:.89,linearMassDensity:.00453},{name:"d\u2019Addario PB036 0.91mm",diameter:.91,linearMassDensity:.00479},{name:"d\u2019Addario PB039 0.99mm",diameter:.99,linearMassDensity:.00556},{name:"d\u2019Addario PB042 1.07mm",diameter:1.07,linearMassDensity:.00656},{name:"d\u2019Addario PB045 1.14mm",diameter:1.14,linearMassDensity:.00746},{name:"d\u2019Addario PB047 1.19mm",diameter:1.19,linearMassDensity:.00809},{name:"d\u2019Addario PB049 1.24mm",diameter:1.24,linearMassDensity:.00878},{name:"d\u2019Addario PB052 1.32mm",diameter:1.32,linearMassDensity:.00986},{name:"d\u2019Addario PB053 1.35mm",diameter:1.35,linearMassDensity:.01017},{name:"d\u2019Addario PB056 1.42mm",diameter:1.42,linearMassDensity:.01134},{name:"d\u2019Addario PB059 1.50mm",diameter:1.5,linearMassDensity:.0126},{name:"d\u2019Addario PB060 1.52mm",diameter:1.52,linearMassDensity:.01304},{name:"d\u2019Addario PB062 1.57mm",diameter:1.57,linearMassDensity:.01387},{name:"d\u2019Addario PB064 1.63mm",diameter:1.63,linearMassDensity:.01478},{name:"d\u2019Addario PB066 1.68mm",diameter:1.68,linearMassDensity:.01566},{name:"d\u2019Addario PB070 1.78mm",diameter:1.78,linearMassDensity:.01729}],_e=function(){var e=Object(i.b)(),t=Object(i.c)((function(e){return e.string})).selectedString,n=Object(r.useState)(0),a=Object(ce.a)(n,2),c=a[0],s=a[1],o=Object(r.useState)(0),u=Object(ce.a)(o,2),l=u[0],b=u[1],h=Object(r.useState)(0),O=Object(ce.a)(h,2),m=O[0],f=O[1],g=Object(r.useState)(0),p=Object(ce.a)(g,2),x=p[0],y=p[1],v=Object(r.useState)(0),k=Object(ce.a)(v,2),T=k[0],S=k[1],N=Object(r.useState)(0),P=Object(ce.a)(N,2),D=P[0],A=P[1],C=Object(r.useState)(.00145),M=Object(ce.a)(C,2),E=M[0],w=M[1],L=Object(r.useState)("tension"),q=Object(ce.a)(L,2),F=q[0],I=q[1];Object(r.useEffect)((function(){t&&(s(t.frequency),b(t.length),f(t.diameter),y(t.tension),S(t.materialDensity),A(t.linearMassDensity))}),[t]);return t?Object(de.jsxs)(ie.a,{onSubmit:function(n){n.preventDefault();var r=parseFloat(c),a=parseFloat(l),i=parseFloat(m),s=parseFloat(x);switch(F){case"frequency":r=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.14,a=(arguments.length>4&&void 0!==arguments[4]?arguments[4]:0)||Math.pow(n/2,2)*Math.PI*r*1e3;return Math.sqrt(9.807*t/a)/(2*e)}(l/1e3,x,m/1e3,T,0===T?D:-1===T?E:0);break;case"length":a=1e3*function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.14,a=(arguments.length>4&&void 0!==arguments[4]?arguments[4]:0)||Math.pow(n/2,2)*Math.PI*r*1e3;return Math.sqrt(9.807*t/a)/(2*e)}(c,x,m/1e3,T,0===T?D:-1===T?E:0);break;case"diameter":i=1e3*function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.14;return 2*Math.sqrt(9.807*n/(Math.pow(2*t*e,2)*(Math.PI*r*1e3)))}(c,l/1e3,x,T);break;case"tension":s=_(c,l/1e3,m/1e3,T,0===T?D:-1===T?E:0)}var o={frequency:r,length:a,diameter:i,tension:s,materialDensity:T};0===T&&(o=Object(d.a)(Object(d.a)({},o),{},{linearMassDensity:parseFloat(D)})),-1===T&&(o=Object(d.a)(Object(d.a)({},o),{},{linearMassDensity:E})),e(function(e,t){return function(){var n=Object(le.a)(ue.a.mark((function n(r){return ue.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:r(Object(j.a)("UPDATE_STRING")({stringId:e,params:t}));case 1:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}(t.id,o))},children:[Object(de.jsxs)("h5",{children:["String (",t.note,")"]}),Object(de.jsxs)(ie.a.Group,{className:"mb-1",children:[Object(de.jsx)(ie.a.Label,{children:"Frequency"}),Object(de.jsxs)(he.a,{children:[Object(de.jsx)(ie.a.Control,{type:"number",value:c,onChange:function(e){return s(e.target.value)},disabled:"frequency"===F}),Object(de.jsx)(qe,{children:"Hz"}),Object(de.jsx)(Fe,{children:Object(de.jsx)(ie.a.Check,{type:"radio",checked:"frequency"===F,onChange:function(){return I("frequency")},name:"stringinput"})})]})]}),Object(de.jsxs)(ie.a.Group,{className:"mb-1",children:[Object(de.jsx)(ie.a.Label,{children:"Length"}),Object(de.jsxs)(he.a,{children:[Object(de.jsx)(ie.a.Control,{type:"number",value:l,onChange:function(e){return b(e.target.value)},disabled:"length"===F}),Object(de.jsx)(qe,{children:"mm"}),Object(de.jsx)(Fe,{children:Object(de.jsx)(ie.a.Check,{type:"radio",checked:"length"===F,onChange:function(){return I("length")},name:"stringinput"})})]})]}),T>0&&Object(de.jsxs)(ie.a.Group,{className:"mb-1",children:[Object(de.jsx)(ie.a.Label,{children:"Diameter"}),Object(de.jsxs)(he.a,{children:[Object(de.jsx)(ie.a.Control,{type:"number",value:m,onChange:function(e){return f(e.target.value)},disabled:"diameter"===F}),Object(de.jsx)(qe,{children:"mm"}),Object(de.jsx)(Fe,{children:Object(de.jsx)(ie.a.Check,{type:"radio",checked:"diameter"===F,onChange:function(){return I("diameter")},name:"stringinput"})})]})]}),Object(de.jsxs)(ie.a.Group,{className:"mb-1",children:[Object(de.jsx)(ie.a.Label,{children:"Tension"}),Object(de.jsxs)(he.a,{children:[Object(de.jsx)(ie.a.Control,{type:"number",value:x,onChange:function(e){return y(e.target.value)},disabled:"tension"===F}),Object(de.jsx)(qe,{children:"kg"}),Object(de.jsx)(Fe,{children:Object(de.jsx)(ie.a.Check,{type:"radio",checked:"tension"===F,onChange:function(){return I("tension")},name:"stringinput"})})]})]}),Object(de.jsxs)(ie.a.Group,{className:0===T||-1===T?"mb-1":"mb-3",children:[Object(de.jsx)(ie.a.Label,{children:"Material"}),Object(de.jsxs)(ie.a.Select,{value:T,onChange:function(e){"0"!==e.target.value&&"-1"!==e.target.value||"diameter"!==F||I("tension"),S(parseFloat(e.target.value))},children:[Object(de.jsx)("option",{value:1.14,children:"Nylon"}),Object(de.jsx)("option",{value:8.77,children:"Brass"}),Object(de.jsx)("option",{value:7.8,children:"Steel"}),Object(de.jsx)("option",{value:8.94,children:"Copper"}),Object(de.jsx)("option",{value:8.85,children:"Phosphor Bronze"}),Object(de.jsx)("option",{value:-1,children:"Phosphor Bronze Wound"}),Object(de.jsx)("option",{value:0,children:"Other"})]})]}),-1===T&&Object(de.jsxs)(ie.a.Group,{className:"mb-3",children:[Object(de.jsx)(ie.a.Label,{children:"String Gauge"}),Object(de.jsx)(ie.a.Select,{value:E,onChange:function(e){w(parseFloat(e.target.value))},children:Le.map((function(e){return Object(de.jsx)("option",{value:e.linearMassDensity,children:e.name},e.diameter)}))})]}),0===T&&Object(de.jsxs)(ie.a.Group,{className:"mb-3",children:[Object(de.jsx)(ie.a.Label,{children:"Linear Mass Density (mass/length)"}),Object(de.jsxs)(he.a,{children:[Object(de.jsx)(ie.a.Control,{type:"number",value:D,onChange:function(e){return A(e.target.value)}}),Object(de.jsx)(qe,{children:"kg/m"})]})]}),Object(de.jsx)(se.a,{className:"btn-sm",type:"submit",variant:"secondary",disabled:!((c||"frequency"===F)&&(l||"length"===F)&&(m||"diameter"===F)&&(x||"tension"===F)),children:"Apply"})]}):null},qe=Object(ae.a)(he.a.Text)(N||(N=Object(Z.a)(["\n  min-width: 70px;\n  display: inline-block;\n  text-align: center;\n"]))),Fe=ae.a.div(P||(P=Object(Z.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  padding: 0 10px;\n"]))),Ie=function(){return Object(de.jsxs)(Be,{children:[Object(de.jsx)(Ue,{children:Object(de.jsx)(je,{})}),Object(de.jsx)(Ue,{children:Object(de.jsx)(Se,{})}),Object(de.jsx)(Ue,{children:Object(de.jsx)(fe,{})}),Object(de.jsx)(Ue,{children:Object(de.jsx)(pe,{})}),Object(de.jsx)(Ue,{children:Object(de.jsx)(Me,{})}),Object(de.jsx)(Ue,{children:Object(de.jsx)(Ae,{})}),Object(de.jsx)(Ue,{children:Object(de.jsx)(_e,{})})]})},Be=Object(ae.a)(ee.a)(D||(D=Object(Z.a)(["\n  max-height: 90vh;\n  overflow: auto;\n"]))),Ue=ae.a.div(A||(A=Object(Z.a)(["\n  margin-bottom: 1.3rem;\n"]))),Ge=n(16),Re=function(e){var t=e.start,n=e.end,a=e.dispatch,c=Object(r.useRef)(null),i=Object(r.useState)(n),s=Object(ce.a)(i,2),o=s[0],u=s[1];return Object(r.useEffect)((function(){a(Oe({x:c.current.x(),y:c.current.y()}))}),[c,a]),Object(r.useEffect)((function(){var e=.4*Math.sqrt(Math.pow(n.x-t.x,2)+Math.pow(n.y-t.y,2));a(me(e))}),[]),Object(r.useEffect)((function(){if(n.y!==o.y){var e=.4*Math.sqrt(Math.pow(n.x-t.x,2)+Math.pow(n.y-t.y,2));a(me(e)),a(Oe({x:c.current.x(),y:c.current.y()})),u(n)}}),[c,a,n]),Object(de.jsxs)(de.Fragment,{children:[Object(de.jsx)(Ge.f,{stroke:"black",strokeWidth:5,lineJoin:"round",sceneFunc:function(e,r){var a,i;e.beginPath(),e.moveTo(t.x,t.y),e.quadraticCurveTo(null===(a=c.current)||void 0===a?void 0:a.x(),null===(i=c.current)||void 0===i?void 0:i.y(),n.x,n.y),e.lineTo(n.x,n.y+30),e.lineTo(t.x+100,t.y),e.closePath(),e.fillStrokeShape(r)}}),Object(de.jsx)(Ge.b,{ref:c,x:(t.x+n.x)/2,y:(t.y+n.y)/2,radius:20,stroke:"#666",fill:"#ddd",strokeWidth:2,draggable:!0,onMouseEnter:function(){document.body.style.cursor="pointer",this.strokeWidth(4)},onMouseLeave:function(){document.body.style.cursor="default",this.strokeWidth(2)},onDragMove:function(){this.x((t.x+n.x)/2)},onDragEnd:function(){a(Oe({x:this.x(),y:this.y()}))}})]})},We=function(e){var t=e.start,n=e.end,r=e.dStart,a=e.dEnd,c=e.width,s=void 0===c?30:c;return"D Shape"===Object(i.c)((function(e){return e.pillar})).shape?Object(de.jsx)(Ge.f,{stroke:"black",strokeWidth:5,lineCap:"round",sceneFunc:function(e,c){e.beginPath(),e.moveTo(t.x,t.y),e.quadraticCurveTo((t.x+n.x)/2-100,(t.y+n.y)/2,n.x,n.y+50),e.moveTo(r.x,r.y),e.quadraticCurveTo((r.x+a.x)/2-100,(r.y+a.y)/2,a.x,a.y+15),e.fillStrokeShape(c)},className:"Pillar"}):Object(de.jsx)(Ge.e,{x:0,y:0,points:[t.x,t.y,n.x,n.y,n.x-s,n.y,t.x-s,t.y],stroke:"black",strokeWidth:5,closed:!0,lineJoin:"round",lineCap:"round",className:"Pillar"})},He=function(e){var t=e.start,n=e.end,r=e.yOffset,a=e.harpHeight,c=Object(i.c)((function(e){return e.string})),s=c.strings,o=c.defaultStringLengths,u=c.stringSpacing,d=c.stringNumber,j=Object(i.c)((function(e){return e.soundboard})).control,b=Object(i.c)((function(e){return e.pillar})).shape;return Object(de.jsx)(de.Fragment,{children:j&&Object(de.jsx)(de.Fragment,{children:Object(de.jsx)(Ge.e,{x:0,y:0,tension:.3,points:[t.x,"Straight"===b?t.y:t.y+50].concat(Object(l.a)(Ye(s,o,h(-4,r,a),j.y,n.y,u,-40,d)),[n.x,n.y-30,n.x+20,n.y,n.x,n.y+30,n.x,n.y],Object(l.a)(Ke(s,o,h(-4,r,a),j.y,n.y,u,10,d)),[t.x,t.y+50]),stroke:"black",strokeWidth:5,lineCap:"round",className:"Neck"})})})},Je=function(e,t,n,r,a,c,i){return e.map((function(e,s){var o=O((s+4)/(i+7),t,n,r);return[b(s,a),o-.4*e+c]}))},Ke=function(e,t,n,r,a,c,i,s){var o=Je(e.map((function(e){return e.length})),n,r,a,c,i,s),u=Je(t,n,r,a,c,i,s),l=[];return o.forEach((function(n,r){var a=e[r].length-t[r];r%6===0&&a>-10?l.push(u[r]):(r%6===0||a<-10)&&l.push(n)})),l.reverse().flat()},Ye=function(e,t,n,r,a,c,i,s){var o=Je(e.map((function(e){return e.length})),n,r,a,c,i,s),u=Je(t,n,r,a,c,i,s),l=[];return o.forEach((function(n,r){var a=e[r].length-t[r];r%6===0&&a<50?l.push(u[r]):(r%6===0||a>50)&&l.push(n)})),l.flat()},ze=function(e){var t=e.start,n=e.end,r=e.string,a=e.stroke,c=void 0===a?"white":a,s=Object(i.c)((function(e){return e.settings})).backgroundColor;return Object(de.jsxs)(de.Fragment,{children:[Object(de.jsx)(Ge.f,{stroke:"white"===s&&"white"===c?"silver":c,strokeWidth:3,lineCap:"round",string:r,sceneFunc:function(e,r){e.beginPath(),e.moveTo(t.x,t.y),e.lineTo(n.x,n.y-20),e.fillStrokeShape(r)}}),Object(de.jsx)(Ge.b,{x:n.x,y:n.y||0,stroke:"gray",radius:2,listening:!1}),Object(de.jsx)(Ge.b,{x:n.x,y:n.y-20||0,stroke:"gray",radius:3,listening:!1})]})},Xe=function(e){var t=e.yOffset,n=e.width,a=e.height,c=Object(i.c)((function(e){return e.string})),s=c.strings,o=c.stringSpacing,u=c.stringNumber,l=Object(i.c)((function(e){return e.soundboard})).control,d=Object(r.useMemo)((function(){var e=1e3;return s.forEach((function(n,r){var c=O((r+4)/(u+7),h(-4,t,a),null===l||void 0===l?void 0:l.y,h(u+3,t,a))-.4*n.length;c<e&&(e=c)})),e}),[s,t,l,u,a]);return Object(de.jsxs)(de.Fragment,{children:[Object(de.jsx)(Ge.a,{points:[b(-4,o)-90,(d+h(-4,t,a))/2-40,b(-4,o)-90,d-50],stroke:"blue"}),Object(de.jsx)(Ge.a,{points:[b(-4,o)-90,(d+h(-4,t,a))/2+20,b(-4,o)-90,h(-4,t,a)],stroke:"blue"}),Object(de.jsxs)(Ge.c,{x:b(-4,o)-90,y:(d+h(-4,t,a))/2-25,listening:!1,children:[Object(de.jsx)(Ge.h,{fill:"black",pointerDirection:"up",pointerWidth:0,pointerHeight:0,lineJoin:"round"}),Object(de.jsx)(Ge.i,{text:Math.round(a/.4*100)/100+" mm",fontSize:18,padding:5,fill:"white"})]}),Object(de.jsx)(Ge.a,{points:[b(-4,o)+(b(u+3,o)-b(-4,o))/2+10,d-80,b(u+3,o)+20,d-80],stroke:"blue"}),Object(de.jsx)(Ge.a,{points:[b(-4,o)+(b(u+3,o)-b(-4,o))/2-100,d-80,b(-4,o)-30,d-80],stroke:"blue"}),Object(de.jsxs)(Ge.c,{x:b(-4,o)+(b(u+3,o)-b(-4,o))/2,y:d-80,listening:!1,children:[Object(de.jsx)(Ge.h,{fill:"black",pointerDirection:"right",pointerWidth:0,pointerHeight:0,lineJoin:"round"}),Object(de.jsx)(Ge.i,{text:Math.round(n/.4*100)/100+" mm",fontSize:18,padding:5,fill:"white"})]})]})},Qe=function(){var e=Object(i.b)(),t=Object(i.c)((function(e){return e.string})),n=t.strings,a=t.defaultStringLengths,c=t.stringSpacing,s=t.stringNumber,o=t.totalLoad,u=t.yOffset,d=Object(i.c)((function(e){return e.soundboard})),m=d.angle,f=d.control,g=d.stringBandThickness,p=d.length,x=Object(i.c)((function(e){return e.pillar})),y=x.neckJointWidth,v=x.shape,k=x.pillarDiameter,T=x.pillarWidth,S=x.pillarThickness,N=Object(i.c)((function(e){return e.neck})),P=N.neckStyle,D=N.neckThickness,A=N.tuningPinLength,C=N.frontNeckThickness,M=N.backNeckThickness,E=N.frontNeckTuningPostLength,w=N.backNeckTuningPostLength,L=Object(r.useState)(b(s+3,c)+20-(b(-4,c)-30)),_=Object(ce.a)(L,2),q=_[0],F=_[1],I=Object(r.useState)(1214.57*.48),R=Object(ce.a)(I,2),W=R[0],H=R[1],J=Object(r.useRef)(null),K=Object(r.useMemo)((function(){var e=0;return Object(l.a)(n).reverse().forEach((function(t,n){n%2===0&&(e+=t.tension)})),e}),[n]),Y=Object(r.useMemo)((function(){var e=0;return Object(l.a)(n).reverse().forEach((function(t,n){n%2===1&&(e+=t.tension)})),e}),[n]),z=Object(r.useMemo)((function(){return E/1e3*K*9.807-w/1e3*Y*9.807}),[E,w,K,Y]);return Object(r.useEffect)((function(){e(function(e){return function(){var t=Object(le.a)(ue.a.mark((function t(n){return ue.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n(Object(j.a)("UPDATE_Y_OFFSET")({yOffset:e}));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(function(e,t){var n=e*Math.PI/180;return t*Math.tan(n)}(m,c)))}),[m,c,e]),Object(r.useEffect)((function(){F(b(s+3,c)+20-(b(-4,c)-30))}),[s,c]),Object(r.useEffect)((function(){H(.48*a[0])}),[a]),Object(de.jsx)(Ge.g,{width:q+200,height:W+100,children:Object(de.jsxs)(i.a,{store:V,children:[Object(de.jsxs)(Ge.d,{onClick:function(e){J.current.position({x:e.evt.layerX,y:e.evt.layerY-5}),"Neck"===e.target.attrs.className?"Standard"===P?J.current.getText().text("Neck\n\nNeck Style: ".concat(P,"\nTensile Stress: ").concat((B((b(s+3,c)+20-(b(-4,c)-30))/.4/1e3,D/1e3,9.807*o)/1e6).toFixed(6)," MPa\nTorque: ").concat((A/1e3*o*9.807).toFixed(6)," N m\nNeck Thickness: ").concat(D," mm\nTuning Pin Length: ").concat(A," mm")):J.current.getText().text("Neck\n\nNeck Style: ".concat(P,"\nTorque Imbalance: ").concat(z.toFixed(6)," N m\n\nFront Neck\nTensile Stress: ").concat((B((b(s+3,c)+20-(b(-4,c)-30))/.4/1e3,C/1e3,K/2*9.807)/1e6).toFixed(6)," MPa\nNeck Thickness: ").concat(C," mm\nTuning Post Length: ").concat(E," mm\n\nBack Neck\nTensile Stress: ").concat((B((b(s+3,c)+20-(b(-4,c)-30))/.4/1e3,M/1e3,Y/2*9.807)/1e6).toFixed(6)," MPa\nNeck Thickness: ").concat(M," mm\nTuning Post Length: ").concat(w," mm")):"Pillar"===e.target.attrs.className&&("Straight"===v?J.current.getText().text("Pillar\n\nCompresive Stress: ".concat((.6*o*9.807/U(k)/1e6).toFixed(6)," MPa\nPillar Diameter: ").concat(k," mm")):J.current.getText().text("Pillar\n\nCompresive Stress: ".concat((.6*o*9.807/G(T,S)/1e6).toFixed(6)," MPa\nPillar Width: ").concat(T," mm\nPillar Thickness: ").concat(S," mm"))),J.current.show()},onMouseOver:function(e){document.body.style.cursor="pointer",e.target.strokeWidth(7)},onMouseOut:function(e){document.body.style.cursor="default",e.target.strokeWidth(5),J.current.hide()},children:[Object(de.jsx)(We,{start:{x:b(-4,c),y:h(-4,u,W)},end:{x:b(-4,c),y:h(-4,u,W)-.48*a[0]},dStart:{x:b(-2,c),y:O(2/(s+7),h(-4,u,W),null===f||void 0===f?void 0:f.y,h(s+3,u,W))},dEnd:{x:b(y,c),y:O((4+y)/(s+7),h(-4,u,W),null===f||void 0===f?void 0:f.y,h(s+3,u,W))-.4*n[y].length}}),Object(de.jsx)(He,{start:{x:b(-4,c),y:h(-4,u,W)-.48*a[0]},end:{x:b(s+3,c),y:h(s+3,u,W)},yOffset:u,harpHeight:W})]}),Object(de.jsx)(Ge.d,{onClick:function(t){var n;e((n=t.target.attrs.string.id,function(){var e=Object(le.a)(ue.a.mark((function e(t){return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t(Object(j.a)("SELECT_STRING")({stringId:n}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()))},onMouseOver:function(e){var t=e.target.attrs.string;document.body.style.cursor="pointer",e.target.strokeWidth(5),J.current.getText().text("Frequency: ".concat(t.frequency," Hz, Length: ").concat(t.length," mm, Diameter: ").concat(Number(t.diameter).toFixed(2)," mm, Tension: ").concat(t.tension.toFixed(2)," kg")),J.current.position({x:e.evt.layerX,y:e.evt.layerY-5}),J.current.show()},onMouseOut:function(e){document.body.style.cursor="default",e.target.strokeWidth(3),J.current.hide()},children:n.map((function(e,t){var n=O((t+4)/(s+7),h(-4,u,W),null===f||void 0===f?void 0:f.y,h(s+3,u,W));return Object(de.jsx)(ze,{start:{x:b(t,c),y:n},end:{x:b(t,c),y:n-.4*e.length},string:e,stroke:"C"===e.note.charAt(0)&&2===e.note.length?"red":"F"===e.note.charAt(0)&&2===e.note.length?"blue":"white"},e.id)}))}),Object(de.jsx)(Ge.d,{onClick:function(e){J.current.position({x:e.evt.layerX,y:e.evt.layerY-5}),J.current.getText().text("Body\n\nSoundboard Angle: ".concat(m," degrees\nSoundboard Tensile Stress: ").concat((B(p/1e3,g/1e3,.5*o*9.807)/1e6).toFixed(6)," MPa\nString Band Thickness: ").concat(g," mm")),J.current.show()},onMouseOver:function(e){document.body.style.cursor="pointer",e.target.strokeWidth(7)},onMouseOut:function(e){document.body.style.cursor="default",e.target.strokeWidth(5),J.current.hide()},children:Object(de.jsx)(Re,{start:{x:b(-4,c),y:h(-4,u,W)},end:{x:b(s+3,c),y:h(s+3,u,W)},dispatch:e})}),Object(de.jsxs)(Ge.d,{children:[Object(de.jsx)(Xe,{yOffset:u,width:q,height:W}),Object(de.jsxs)(Ge.c,{opacity:.8,visible:!1,listening:!1,ref:J,offsetY:250,children:[Object(de.jsx)(Ge.h,{fill:"black",pointerDirection:"down",pointerWidth:10,pointerHeight:10,lineJoin:"round"}),Object(de.jsx)(Ge.i,{text:"",fontSize:18,padding:5,fill:"white"})]})]})]})})},Ve=function(e){return function(){var t=Object(le.a)(ue.a.mark((function t(n){return ue.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n(Object(j.a)("UPDATE_BACKGROUND_COLOR")({color:e}));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()};n(103),n(104);var Ze=function(){var e=Object(i.b)(),t=Object(i.c)((function(e){return e.settings})).backgroundColor;return Object(de.jsxs)($e,{className:"App",backgroundColor:t,children:[Object(de.jsx)($.a,{className:"mb-3",bg:"dark",variant:"dark",children:Object(de.jsxs)(ee.a,{children:[Object(de.jsx)($.a.Brand,{children:"Harp Designer"}),Object(de.jsxs)(te.a,{title:Object(de.jsx)(et,{children:"Background Color"}),children:[Object(de.jsx)(tt,{onClick:function(){return e(Ve("burlywood"))},children:Object(de.jsx)(nt,{color:"burlywood"})}),Object(de.jsx)(tt,{onClick:function(){return e(Ve("white"))},children:Object(de.jsx)(nt,{color:"white"})})]})]})}),Object(de.jsxs)(ne.a,{children:[Object(de.jsx)(re.a,{md:3,children:Object(de.jsx)(Ie,{})}),Object(de.jsx)(rt,{md:9,children:Object(de.jsx)(Qe,{})})]})]})},$e=ae.a.div(C||(C=Object(Z.a)(["\n  background-color: ",";\n"])),(function(e){return e.backgroundColor})),et=ae.a.span(M||(M=Object(Z.a)(["\n  color: white;\n"]))),tt=Object(ae.a)(te.a.Item)(E||(E=Object(Z.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n"]))),nt=ae.a.div(w||(w=Object(Z.a)(["\n  width: 22px;\n  height: 22px;\n  border: 2px solid;\n  border-radius: 3px;\n  background-color: ",";\n"])),(function(e){return e.color})),rt=Object(ae.a)(re.a)(L||(L=Object(Z.a)(["\n  overflow: scroll;\n"]))),at=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,119)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,c=t.getLCP,i=t.getTTFB;n(e),r(e),a(e),c(e),i(e)}))};c.a.render(Object(de.jsx)(i.a,{store:V,children:Object(de.jsx)(Ze,{})}),document.getElementById("root")),at()}},[[105,1,2]]]);
//# sourceMappingURL=main.5fa63183.chunk.js.map