(this["webpackJsonpharp-designer"]=this["webpackJsonpharp-designer"]||[]).push([[0],{96:function(e,t,n){},97:function(e,t,n){"use strict";n.r(t);var r=n(1),a=n(26),c=n.n(a),i=n(14),s=n(24),o=n(51),u=n(71),l=n(21),d=n(2),j=n(15),b=function(e,t){return e*t+200},h=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:600;return n+100-e*t};function O(e,t,n,r){var a=1-e;return a*a*t+2*a*e*n+e*e*r}var f,m,g,p,x,y,v,k,T,S,N,D,P,A,E,C,M,w,L,_,I,q=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.14,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,c=a||Math.pow(n/2,2)*Math.PI*r*1e3;return Math.pow(2*t*e,2)*c/9.807},F=function(e){return 2.54*e/100},U=function(e){var t,n;return t=3===e.length?e.charAt(2):e.charAt(1),n=(n=["A","A#","B","C","C#","D","D#","E","F","F#","G","G#"].indexOf(e.slice(0,-1)))<3?n+12+12*(t-1)+1:n+12*(t-1)+1,440*Math.pow(2,(n-49)/12)},B=function(e){return"C Major"===e?["A","B","C","D","E","F","G"]:"E Flat Major"===e?["A#","C","D","D#","F","G","G#"]:["A#","C","C#","D#","F","G","G#"]},G=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"C2",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"C Major",r=B(n),a=t.charAt(0),c=parseInt(t.charAt(t.length-1)),i=a.charCodeAt(0)-"A".charCodeAt(0),s=e.map((function(e,t){var n=r[(t+i)%7]+(c+Math.floor((t+i)/7));return Object(d.a)(Object(d.a)({},e),{},{note:n,frequency:U(n)})}));return s},R=function(e,t,n){return n/(e*t)},W=function(e){return Math.pow(e/1e3/2,2)*Math.PI},H=function(e,t){return e/1e3*(t/1e3)},J=G([{id:"1",frequency:1864.655,length:80,tension:6.661,diameter:.025},{id:"2",frequency:1760,length:100,tension:9.272,diameter:.025},{id:"3",frequency:1567.982,length:123,tension:11.134,diameter:.025},{id:"4",frequency:1396.913,length:145,tension:12.281,diameter:.025},{id:"5",frequency:1318.51,length:165,tension:14.168,diameter:.025},{id:"6",frequency:1174.659,length:175,tension:12.649,diameter:.025},{id:"7",frequency:1046.502,length:190,tension:11.835,diameter:.025},{id:"8",frequency:932.328,length:225,tension:16.524,diameter:.028},{id:"9",frequency:880,length:240,tension:16.749,diameter:.028},{id:"10",frequency:783.991,length:260,tension:15.602,diameter:.028},{id:"11",frequency:698.456,length:275,tension:13.853,diameter:.028},{id:"12",frequency:659.255,length:295,tension:18.55,diameter:.032},{id:"13",frequency:587.33,length:315,tension:16.787,diameter:.032},{id:"14",frequency:523.251,length:330,tension:14.623,diameter:.032},{id:"15",frequency:466.164,length:348,tension:12.907,diameter:.032},{id:"16",frequency:440,length:370,tension:12.999,diameter:.032},{id:"17",frequency:391.995,length:390,tension:14.507,diameter:.036},{id:"18",frequency:349.228,length:415,tension:13.038,diameter:.036},{id:"19",frequency:329.628,length:445,tension:13.355,diameter:.036},{id:"20",frequency:293.665,length:477,tension:15.036,diameter:.04},{id:"21",frequency:261.626,length:510,tension:23.057,diameter:.052},{id:"22",frequency:233.082,length:545,tension:20.898,diameter:.052},{id:"23",frequency:220,length:585,tension:21.451,diameter:.052},{id:"24",frequency:195.998,length:628,tension:19.621,diameter:.052},{id:"25",frequency:174.614,length:675,tension:17.991,diameter:.052},{id:"26",frequency:164.814,length:728,tension:18.644,diameter:.052},{id:"27",frequency:146.832,length:785,tension:19.955,diameter:.056},{id:"28",frequency:130.813,length:850,tension:21.317,diameter:.06},{id:"29",frequency:116.541,length:900,tension:22.262,diameter:.065},{id:"30",frequency:110,length:950,tension:30.21,diameter:.076},{id:"31",frequency:97.999,length:1e3,tension:29.438,diameter:.08},{id:"32",frequency:87.307,length:1045,tension:28.804,diameter:.085},{id:"33",frequency:82.407,length:1090,tension:32,diameter:.091},{id:"34",frequency:73.416,length:1130,tension:30.378,diameter:.096},{id:"35",frequency:65.406,length:1168,tension:27.952,diameter:.1},{id:"36",frequency:58.27,length:1205,tension:23.613,diameter:.1}].reverse()).map((function(e,t,n){var r=n.length-t-1,a=.71*Math.pow(r,2)+7*r+100;return Object(d.a)(Object(d.a)({},e),{},{length:a,diameter:1e3*F(e.diameter),tension:q(a/1e3,e.frequency,F(e.diameter)),materialDensity:1.14,linearMassDensity:0})})),K={strings:J,defaultStringLengths:J.map((function(e){return e.length})),selectedString:null,stringSpacing:10,yOffset:0,materialDensity:1.14,tuning:"C Major",stringNumber:36,lowestNote:"C2",totalLoad:J.reduce((function(e,t){return e+t.tension}),0)},Y=Object(j.b)(K,{SELECT_STRING:function(e,t){var n=t.payload,r=e.strings.find((function(e){return e.id===n.stringId}));return Object(d.a)(Object(d.a)({},e),{},{selectedString:r})},UPDATE_STRING:function(e,t){var n=t.payload,r=e.strings.find((function(e){return e.id===n.stringId}));Object.keys(n.params).forEach((function(e){r[e]=n.params[e]})),e.selectedString=r,e.totalLoad=e.strings.reduce((function(e,t){return e+t.tension}),0)},UPDATE_STRING_MATERIAL_DENSITY:function(e,t){var n=t.payload;e.strings.forEach((function(e){e.tension=q(e.length/1e3,e.frequency,e.diameter/1e3,n.density),e.materialDensity=n.density})),e.materialDensity=n.density,e.selectedString&&(e.selectedString=e.strings.find((function(t){return t.id===e.selectedString.id}))),e.totalLoad=e.strings.reduce((function(e,t){return e+t.tension}),0)},UPDATE_TUNING:function(e,t){var n=t.payload;e.strings=G(e.strings,e.lowestNote,n.tuning),e.strings.forEach((function(e){e.tension=q(e.length/1e3,e.frequency,e.diameter/1e3,e.materialDensity,e.materialDensity<=0?0:e.linearMassDensity)})),e.tuning=n.tuning,e.selectedString&&(e.selectedString=e.strings.find((function(t){return t.id===e.selectedString.id}))),e.totalLoad=e.strings.reduce((function(e,t){return e+t.tension}),0)},UPDATE_STRING_NUMBER:function(e,t){var n=t.payload,r=e.strings,a=[],c=n.stringNumber-e.stringNumber;if(c>0){for(var i=[],s=0;s<c;s++){var o=e.strings.length+s,u={id:o+1+"",length:.71*Math.pow(o,2)+7*o+100,diameter:e.strings[0].diameter,materialDensity:e.materialDensity};i.push(u)}r=(r=G([].concat(Object(l.a)(i.reverse()),Object(l.a)(e.strings)),e.lowestNote,e.tuning)).map((function(e){var t=q(e.length/1e3,e.frequency,e.diameter/1e3,e.materialDensity,e.materialDensity<=0?0:e.linearMassDensity);return Object(d.a)(Object(d.a)({},e),{},{tension:t})})),a=[].concat(Object(l.a)(i.map((function(e){return e.length}))),Object(l.a)(e.defaultStringLengths))}else c<0&&(r=G(e.strings.slice(Math.abs(c)),e.lowestNote,e.tuning).map((function(e){var t=q(e.length/1e3,e.frequency,e.diameter/1e3,e.materialDensity,e.materialDensity<=0?0:e.linearMassDensity);return Object(d.a)(Object(d.a)({},e),{},{tension:t})})),a=e.defaultStringLengths.slice(Math.abs(c)));return Object(d.a)(Object(d.a)({},e),{},{stringNumber:n.stringNumber,strings:r,defaultStringLengths:a,totalLoad:e.strings.reduce((function(e,t){return e+t.tension}),0),selectedString:null})},UPDATE_LOWEST_NOTE:function(e,t){var n=t.payload,r=G(e.strings,n.lowestNote,e.tuning);return r=r.map((function(e){var t=q(e.length/1e3,e.frequency,e.diameter/1e3,e.materialDensity,e.materialDensity<=0?0:e.linearMassDensity);return Object(d.a)(Object(d.a)({},e),{},{tension:t})})),Object(d.a)(Object(d.a)({},e),{},{lowestNote:n.lowestNote,strings:r,totalLoad:r.reduce((function(e,t){return e+t.tension}),0),selectedString:e.selectedString&&r.find((function(t){return t.id===e.selectedString.id}))})},UPDATE_Y_OFFSET:function(e,t){var n=t.payload;return Object(d.a)(Object(d.a)({},e),{},{yOffset:n.yOffset})},UPDATE_STRING_STATE:function(e,t){var n=t.payload;return Object(d.a)({},n.state)}}),z=Object(j.b)({angle:50,control:null,stringBandThickness:20,length:0},{UPDATE_SOUNDBOARD_ANGLE:function(e,t){var n=t.payload;return Object(d.a)(Object(d.a)({},e),{},{angle:n.angle})},UPDATE_CONTROL_POSITION:function(e,t){var n=t.payload;return Object(d.a)(Object(d.a)({},e),{},{control:n.position})},UPDATE_STRING_BAND_THICKNESS:function(e,t){var n=t.payload;return Object(d.a)(Object(d.a)({},e),{},{stringBandThickness:n.thickness})},UPDATE_SOUNDBOARD_LENGTH:function(e,t){var n=t.payload;return Object(d.a)(Object(d.a)({},e),{},{length:n.length})},UPDATE_SOUNDBOARD_STATE:function(e,t){var n=t.payload;return Object(d.a)({},n.state)}}),X=Object(j.b)({shape:"Straight",pillarDiameter:30,pillarWidth:40,pillarThickness:20,neckJointWidth:2},{UPDATE_PILLAR_SHAPE:function(e,t){var n=t.payload;return Object(d.a)(Object(d.a)({},e),{},{shape:n.shape})},UPDATE_PILLAR_DIAMETER:function(e,t){var n=t.payload;return Object(d.a)(Object(d.a)({},e),{},{pillarDiameter:n.diameter})},UPDATE_PILLAR_WIDTH:function(e,t){var n=t.payload;return Object(d.a)(Object(d.a)({},e),{},{pillarWidth:n.width})},UPDATE_PILLAR_THICKNESS:function(e,t){var n=t.payload;return Object(d.a)(Object(d.a)({},e),{},{pillarThickness:n.thickness})},UPDATE_NECK_JOINT_WIDTH:function(e,t){var n=t.payload;return Object(d.a)(Object(d.a)({},e),{},{neckJointWidth:n.width})},UPDATE_PILLAR_STATE:function(e,t){var n=t.payload;return Object(d.a)({},n.state)}}),V=Object(j.b)({neckThickness:40,tuningPinLength:20,frontNeckThickness:15,backNeckThickness:15,frontNeckTuningPostLength:10,backNeckTuningPostLength:10,neckStyle:"Standard"},{UPDATE_NECK_THICKNESS:function(e,t){var n=t.payload;return Object(d.a)(Object(d.a)({},e),{},{neckThickness:n.thickness})},UPDATE_TUNING_PIN_LENGTH:function(e,t){var n=t.payload;return Object(d.a)(Object(d.a)({},e),{},{tuningPinLength:n.length})},UPDATE_PARAGUAYAN_PARAMS:function(e,t){var n=t.payload;Object.keys(n.params).forEach((function(t){e[t]=n.params[t]}))},UPDATE_NECK_STYLE:function(e,t){var n=t.payload;return Object(d.a)(Object(d.a)({},e),{},{neckStyle:n.style})},UPDATE_NECK_STATE:function(e,t){var n=t.payload;return Object(d.a)({},n.state)}}),Q=Object(j.b)({backgroundColor:"burlywood"},{UPDATE_BACKGROUND_COLOR:function(e,t){var n=t.payload;return Object(d.a)(Object(d.a)({},e),{},{backgroundColor:n.color})}}),Z=Object(s.combineReducers)({string:Y,soundboard:z,pillar:X,neck:V,settings:Q}),$=[o.a],ee=Object(s.createStore)(Z,{},Object(u.composeWithDevTools)(s.applyMiddleware.apply(void 0,$))),te=n(17),ne=n(6),re=n(72),ae=n.n(re),ce=n(107),ie=n(103),se=n(81),oe=n(106),ue=n(108),le=n(73),de=n(109),je=n(104),be=n(74),he=n(18),Oe=n(82),fe=n(13),me=n.n(fe),ge=n(19),pe=n(0),xe=function(){var e=Object(i.b)(),t=Object(i.c)((function(e){return e.string})),n=t.strings,a=t.stringNumber,c=t.lowestNote,s=t.tuning,o=0;n.forEach((function(e){o+=e.tension}));var u=Object(r.useState)(a),l=Object(ne.a)(u,2),d=l[0],b=l[1],h=Object(r.useState)(c),O=Object(ne.a)(h,2),f=O[0],m=O[1],g=Object(r.useState)(),p=Object(ne.a)(g,2),x=p[0],y=p[1];Object(r.useEffect)((function(){b(a),m(c)}),[a,c]);return Object(pe.jsxs)(pe.Fragment,{children:[Object(pe.jsx)("h5",{children:"Overview"}),Object(pe.jsxs)("span",{children:["Total Tension: ",Object(pe.jsx)("b",{children:o.toFixed(2)})," kg"]}),Object(pe.jsx)("p",{}),Object(pe.jsxs)(oe.a,{onSubmit:function(t){if(t.preventDefault(),y(null),f!==c){var n=B(s),r=3===f.length?f.substring(0,2):f.substring(0,1);n.includes(r)?e(function(e){return function(){var t=Object(ge.a)(me.a.mark((function t(n){return me.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n(Object(j.a)("UPDATE_LOWEST_NOTE")({lowestNote:e}));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(f)):y("Invalid note, the valid notes are: "+n)}parseInt(d)!==a&&e(function(e){return function(){var t=Object(ge.a)(me.a.mark((function t(n){return me.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n(Object(j.a)("UPDATE_STRING_NUMBER")({stringNumber:e}));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(parseInt(d)))},children:[Object(pe.jsxs)(ye,{children:[Object(pe.jsxs)(ve,{className:"mb-3",children:[Object(pe.jsx)(oe.a.Label,{children:"Number of Strings"}),Object(pe.jsx)(oe.a.Control,{type:"number",value:d,onChange:function(e){return b(e.target.value)}})]}),Object(pe.jsxs)(ve,{className:"mb-3",children:[Object(pe.jsx)(oe.a.Label,{children:"Lowest Note"}),Object(pe.jsxs)(ue.a,{hasValidation:!0,children:[Object(pe.jsx)(oe.a.Control,{type:"text",value:f,onChange:function(e){return m(e.target.value)},required:!0,isInvalid:x}),Object(pe.jsx)(oe.a.Control.Feedback,{type:"invalid",children:x})]})]})]}),Object(pe.jsx)(de.a,{className:"btn-sm",type:"submit",variant:"secondary",children:"Apply"})]})]})},ye=he.a.div(f||(f=Object(te.a)(["\n  display: flex;\n  justify-content: space-between;\n"]))),ve=Object(he.a)(oe.a.Group)(m||(m=Object(te.a)(["\n  flex: 1;\n"]))),ke=function(e){return function(){var t=Object(ge.a)(me.a.mark((function t(n){return me.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n(Object(j.a)("UPDATE_CONTROL_POSITION")({position:e}));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},Te=function(e){return function(){var t=Object(ge.a)(me.a.mark((function t(n){return me.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n(Object(j.a)("UPDATE_SOUNDBOARD_LENGTH")({length:e}));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},Se=function(){var e=Object(i.b)(),t=Object(i.c)((function(e){return e.string})).totalLoad,n=Object(i.c)((function(e){return e.soundboard})),a=n.angle,c=n.stringBandThickness,s=n.length,o=Object(r.useState)(a),u=Object(ne.a)(o,2),l=u[0],d=u[1],b=Object(r.useState)(c),h=Object(ne.a)(b,2),O=h[0],f=h[1];Object(r.useEffect)((function(){d(a),f(c)}),[a,c]);return Object(pe.jsxs)(oe.a,{onSubmit:function(t){var n;t.preventDefault(),l&&l!==a&&e(function(e){return function(){var t=Object(ge.a)(me.a.mark((function t(n){return me.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n(Object(j.a)("UPDATE_SOUNDBOARD_ANGLE")({angle:e}));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(parseInt(l))),O&&O!==c&&e((n=O,function(){var e=Object(ge.a)(me.a.mark((function e(t){return me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t(Object(j.a)("UPDATE_STRING_BAND_THICKNESS")({thickness:n}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()))},children:[Object(pe.jsx)("h5",{children:"Soundboard"}),Object(pe.jsxs)(oe.a.Group,{className:"mb-3",children:[Object(pe.jsx)(oe.a.Label,{children:"Soundboard Angle"}),Object(pe.jsxs)(ue.a,{children:[Object(pe.jsx)(oe.a.Control,{type:"number",value:l,onChange:function(e){return d(e.target.value)}}),Object(pe.jsx)(Ne,{children:"\xb0"})]})]}),Object(pe.jsxs)("p",{children:["Tensile Stress:"," ",Object(pe.jsx)("b",{children:(R(s/1e3,c/1e3,.5*t*9.807)/1e6).toFixed(6)})," ","MPa"]}),Object(pe.jsxs)(oe.a.Group,{className:"mb-3",children:[Object(pe.jsx)(oe.a.Label,{children:"String Band Thickness"}),Object(pe.jsxs)(ue.a,{children:[Object(pe.jsx)(oe.a.Control,{type:"number",value:O,onChange:function(e){return f(e.target.value)}}),Object(pe.jsx)(Ne,{children:"mm"})]})]}),Object(pe.jsx)(de.a,{className:"btn-sm",type:"submit",variant:"secondary",children:"Apply"})]})},Ne=Object(he.a)(ue.a.Text)(g||(g=Object(te.a)(["\n  min-width: 70px;\n  display: inline-block;\n  text-align: center;\n"]))),De=function(){var e=Object(i.b)(),t=Object(i.c)((function(e){return e.string})).totalLoad,n=Object(i.c)((function(e){return e.pillar})),a=n.shape,c=n.pillarDiameter,s=n.pillarWidth,o=n.pillarThickness,u=n.neckJointWidth,l=Object(r.useState)(c),d=Object(ne.a)(l,2),b=d[0],h=d[1],O=Object(r.useState)(s),f=Object(ne.a)(O,2),m=f[0],g=f[1],p=Object(r.useState)(o),x=Object(ne.a)(p,2),y=x[0],v=x[1],k=Object(r.useState)(u),T=Object(ne.a)(k,2),S=T[0],N=T[1],D=function(t){e(function(e){return function(){var t=Object(ge.a)(me.a.mark((function t(n){return me.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n(Object(j.a)("UPDATE_PILLAR_SHAPE")({shape:e}));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(t))};return Object(pe.jsxs)(pe.Fragment,{children:[Object(pe.jsx)("h5",{children:"Pillar"}),Object(pe.jsx)(Pe,{variant:"Straight"===a?"primary":"secondary",onClick:function(){return D("Straight")},children:"Straight"}),Object(pe.jsx)(Pe,{variant:"D Shape"===a?"primary":"secondary",onClick:function(){return D("D Shape")},children:"D Shape"}),Object(pe.jsxs)("p",{children:["Compresive Stress:"," ",Object(pe.jsx)("b",{children:(.6*t*9.807/("Straight"===a?W(c):H(s,o))/1e6).toFixed(6)})," MPa"]}),"Straight"===a?Object(pe.jsxs)(oe.a,{onSubmit:function(t){t.preventDefault(),e(function(e){return function(){var t=Object(ge.a)(me.a.mark((function t(n){return me.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n(Object(j.a)("UPDATE_PILLAR_DIAMETER")({diameter:e}));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(b))},children:[Object(pe.jsxs)(oe.a.Group,{className:"mb-3",children:[Object(pe.jsx)(oe.a.Label,{children:"Pillar Diameter"}),Object(pe.jsxs)(ue.a,{children:[Object(pe.jsx)(oe.a.Control,{type:"number",value:b,onChange:function(e){return h(e.target.value)}}),Object(pe.jsx)(Ae,{children:"mm"})]})]}),Object(pe.jsx)(de.a,{className:"btn-sm",type:"submit",variant:"secondary",disabled:!b,children:"Apply"})]}):Object(pe.jsxs)(oe.a,{onSubmit:function(t){t.preventDefault(),m&&m!==s&&e(function(e){return function(){var t=Object(ge.a)(me.a.mark((function t(n){return me.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n(Object(j.a)("UPDATE_PILLAR_WIDTH")({width:e}));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(m)),y&&y!==o&&e(function(e){return function(){var t=Object(ge.a)(me.a.mark((function t(n){return me.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n(Object(j.a)("UPDATE_PILLAR_THICKNESS")({thickness:e}));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(y)),S&&S!==u&&e(function(e){return function(){var t=Object(ge.a)(me.a.mark((function t(n){return me.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n(Object(j.a)("UPDATE_NECK_JOINT_WIDTH")({width:e}));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(parseInt(S)))},children:[Object(pe.jsxs)(oe.a.Group,{className:"mb-1",children:[Object(pe.jsx)(oe.a.Label,{children:"Pillar Width"}),Object(pe.jsxs)(ue.a,{children:[Object(pe.jsx)(oe.a.Control,{type:"number",value:m,onChange:function(e){return g(e.target.value)}}),Object(pe.jsx)(Ae,{children:"mm"})]})]}),Object(pe.jsxs)(oe.a.Group,{className:"mb-1",children:[Object(pe.jsx)(oe.a.Label,{children:"Pillar Thickness"}),Object(pe.jsxs)(ue.a,{children:[Object(pe.jsx)(oe.a.Control,{type:"number",value:y,onChange:function(e){return v(e.target.value)}}),Object(pe.jsx)(Ae,{children:"mm"})]})]}),Object(pe.jsxs)(oe.a.Group,{className:"mb-3",children:[Object(pe.jsx)(oe.a.Label,{children:"Neck Joint Width"}),Object(pe.jsx)(oe.a.Range,{max:5,min:1,value:S,onChange:function(e){return N(e.target.value)}})]}),Object(pe.jsx)(de.a,{className:"btn-sm",type:"submit",variant:"secondary",children:"Apply"})]})]})},Pe=Object(he.a)(de.a)(p||(p=Object(te.a)(["\n  margin: 0 1rem 1rem 0;\n"]))),Ae=Object(he.a)(ue.a.Text)(x||(x=Object(te.a)(["\n  min-width: 70px;\n  display: inline-block;\n  text-align: center;\n"]))),Ee=n(105),Ce=n(102),Me=function(e){return function(){var t=Object(ge.a)(me.a.mark((function t(n){return me.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n(Object(j.a)("UPDATE_NECK_STYLE")({style:e}));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},we=function(){var e=Object(i.b)(),t=Object(i.c)((function(e){return e.string})),n=t.strings,a=t.stringSpacing,c=t.stringNumber,s=t.totalLoad,o=Object(i.c)((function(e){return e.neck})),u=o.neckThickness,d=o.tuningPinLength,h=o.frontNeckThickness,O=o.frontNeckTuningPostLength,f=o.backNeckThickness,m=o.backNeckTuningPostLength,g=o.neckStyle,p=Object(r.useState)(u),x=Object(ne.a)(p,2),y=x[0],v=x[1],k=Object(r.useState)(d),T=Object(ne.a)(k,2),S=T[0],N=T[1],D=Object(r.useState)(h),P=Object(ne.a)(D,2),A=P[0],E=P[1],C=Object(r.useState)(O),M=Object(ne.a)(C,2),w=M[0],L=M[1],_=Object(r.useState)(f),I=Object(ne.a)(_,2),q=I[0],F=I[1],U=Object(r.useState)(m),B=Object(ne.a)(U,2),G=B[0],W=B[1];Object(r.useEffect)((function(){v(u),N(d),E(h),L(O),F(f),W(m)}),[u,d,h,O,f,m]);var H=Object(r.useMemo)((function(){var e=0;return Object(l.a)(n).reverse().forEach((function(t,n){n%2===0&&(e+=t.tension)})),e}),[n]),J=Object(r.useMemo)((function(){var e=0;return Object(l.a)(n).reverse().forEach((function(t,n){n%2===1&&(e+=t.tension)})),e}),[n]),K=Object(r.useMemo)((function(){return O/1e3*H*9.807-m/1e3*J*9.807}),[O,m,H,J]);return Object(pe.jsxs)(pe.Fragment,{children:[Object(pe.jsx)("h5",{children:"Neck"}),Object(pe.jsx)(_e,{variant:"Standard"===g?"primary":"secondary",onClick:function(){return"Standard"!==g&&e(Me("Standard"))},children:"Standard"}),Object(pe.jsx)(_e,{variant:"Paraguayan"===g?"primary":"secondary",onClick:function(){return"Paraguayan"!==g&&e(Me("Paraguayan"))},children:"Paraguayan"}),Object(pe.jsxs)(oe.a,{onSubmit:function(t){var n,r;t.preventDefault(),"Standard"===g?(e(function(e){return function(){var t=Object(ge.a)(me.a.mark((function t(n){return me.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n(Object(j.a)("UPDATE_NECK_THICKNESS")({thickness:e}));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(parseFloat(y))),e((r=parseFloat(S),function(){var e=Object(ge.a)(me.a.mark((function e(t){return me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t(Object(j.a)("UPDATE_TUNING_PIN_LENGTH")({length:r}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()))):"Paraguayan"===g&&e((n={frontNeckThickness:A,frontNeckTuningPostLength:w,backNeckThickness:q,backNeckTuningPostLength:G},function(){var e=Object(ge.a)(me.a.mark((function e(t){return me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t(Object(j.a)("UPDATE_PARAGUAYAN_PARAMS")({params:n}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()))},children:["Standard"===g&&Object(pe.jsxs)(pe.Fragment,{children:[Object(pe.jsxs)("p",{children:["Tensile Stress:"," ",Object(pe.jsx)("b",{children:(R((b(c+3,a)+20-(b(-4,a)-30))/.4/1e3,u/1e3,9.807*s)/1e6).toFixed(6)})," ","MPa"]}),Object(pe.jsxs)("p",{children:["Torque: ",Object(pe.jsx)("b",{children:(d/1e3*s*9.807).toFixed(6)})," N m"]}),Object(pe.jsxs)(oe.a.Group,{className:"mb-1",children:[Object(pe.jsx)(oe.a.Label,{children:"Neck Thickness"}),Object(pe.jsxs)(ue.a,{children:[Object(pe.jsx)(oe.a.Control,{type:"number",value:y,onChange:function(e){return v(e.target.value)}}),Object(pe.jsx)(Le,{children:"mm"})]})]}),Object(pe.jsxs)(oe.a.Group,{className:"mb-3",children:[Object(pe.jsx)(oe.a.Label,{children:"Tuning Pin Length"}),Object(pe.jsxs)(ue.a,{children:[Object(pe.jsx)(oe.a.Control,{type:"number",value:S,onChange:function(e){return N(e.target.value)}}),Object(pe.jsx)(Le,{children:"mm"})]})]})]}),"Paraguayan"===g&&Object(pe.jsxs)(pe.Fragment,{children:[Object(pe.jsx)(Ee.a,{placement:"right",overlay:Object(pe.jsxs)(Ce.a,{id:"torque-imbalance-tooltip",children:["Front neck torque is ",Math.abs(K).toFixed(6)," Nm"," ",K>0?"greater":"less"," than back neck torque"]}),children:Object(pe.jsxs)(Ie,{children:["Torque Imbalance ",Object(pe.jsx)("b",{children:K.toFixed(6)})," N m"]})}),Object(pe.jsx)("p",{children:Object(pe.jsx)("b",{children:"Front Neck"})}),Object(pe.jsxs)("p",{children:["Tensile Stress:"," ",Object(pe.jsx)("b",{children:(R((b(c+3,a)+20-(b(-4,a)-30))/.4/1e3,h/1e3,H/2*9.807)/1e6).toFixed(6)})," ","MPa"]}),Object(pe.jsxs)(oe.a.Group,{className:"mb-1",children:[Object(pe.jsx)(oe.a.Label,{children:"Neck Thickness"}),Object(pe.jsxs)(ue.a,{children:[Object(pe.jsx)(oe.a.Control,{type:"number",value:A,onChange:function(e){return E(e.target.value)}}),Object(pe.jsx)(Le,{children:"mm"})]})]}),Object(pe.jsxs)(oe.a.Group,{className:"mb-3",children:[Object(pe.jsx)(oe.a.Label,{children:"Tuning Post Length"}),Object(pe.jsxs)(ue.a,{children:[Object(pe.jsx)(oe.a.Control,{type:"number",value:w,onChange:function(e){return L(e.target.value)}}),Object(pe.jsx)(Le,{children:"mm"})]})]}),Object(pe.jsx)("p",{children:Object(pe.jsx)("b",{children:"Back Neck"})}),Object(pe.jsxs)("p",{children:["Tensile Stress:"," ",Object(pe.jsx)("b",{children:(R((b(c+3,a)+20-(b(-4,a)-30))/.4/1e3,f/1e3,J/2*9.807)/1e6).toFixed(6)})," ","MPa"]}),Object(pe.jsxs)(oe.a.Group,{className:"mb-1",children:[Object(pe.jsx)(oe.a.Label,{children:"Neck Thickness"}),Object(pe.jsxs)(ue.a,{children:[Object(pe.jsx)(oe.a.Control,{type:"number",value:q,onChange:function(e){return F(e.target.value)}}),Object(pe.jsx)(Le,{children:"mm"})]})]}),Object(pe.jsxs)(oe.a.Group,{className:"mb-3",children:[Object(pe.jsx)(oe.a.Label,{children:"Tuning Post Length"}),Object(pe.jsxs)(ue.a,{children:[Object(pe.jsx)(oe.a.Control,{type:"number",value:G,onChange:function(e){return W(e.target.value)}}),Object(pe.jsx)(Le,{children:"mm"})]})]})]}),Object(pe.jsx)(de.a,{className:"btn-sm",type:"submit",variant:"secondary",children:"Apply"})]})]})},Le=Object(he.a)(ue.a.Text)(y||(y=Object(te.a)(["\n  min-width: 70px;\n  display: inline-block;\n  text-align: center;\n"]))),_e=Object(he.a)(de.a)(v||(v=Object(te.a)(["\n  margin: 0 1rem 1rem 0;\n"]))),Ie=he.a.span(k||(k=Object(te.a)(["\n  display: inline-block;\n  margin-bottom: 1rem;\n"]))),qe=function(){var e=Object(i.b)(),t=Object(i.c)((function(e){return e.string})).tuning,n=function(t){e(function(e){return function(){var t=Object(ge.a)(me.a.mark((function t(n){return me.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n(Object(j.a)("UPDATE_TUNING")({tuning:e}));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(t))};return Object(pe.jsxs)(pe.Fragment,{children:[Object(pe.jsx)("h5",{children:"Tuning"}),Object(pe.jsx)(Fe,{variant:"C Major"===t?"primary":"secondary",onClick:function(){return n("C Major")},children:"C Major"}),Object(pe.jsx)(Fe,{variant:"E Flat Major"===t?"primary":"secondary",onClick:function(){return n("E Flat Major")},children:"E \u266d Major"}),Object(pe.jsx)(Fe,{variant:"A Flat Major"===t?"primary":"secondary",onClick:function(){return n("A Flat Major")},children:"A \u266d Major"})]})},Fe=Object(he.a)(de.a)(T||(T=Object(te.a)(["\n  margin-right: 1rem;\n  margin-bottom: 0.5rem;\n"]))),Ue=function(){var e=Object(i.b)(),t=Object(i.c)((function(e){return e.string})).materialDensity,n=Object(r.useState)(t),a=Object(ne.a)(n,2),c=a[0],s=a[1];Object(r.useEffect)((function(){s(t)}),[t]);var o=function(t){e(function(e){return function(){var t=Object(ge.a)(me.a.mark((function t(n){return me.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n(Object(j.a)("UPDATE_STRING_MATERIAL_DENSITY")({density:e}));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(t))};return Object(pe.jsxs)(pe.Fragment,{children:[Object(pe.jsx)("h5",{children:Object(pe.jsx)(Ee.a,{placement:"right",overlay:Object(pe.jsx)(Ce.a,{children:"This setting applies to all strings"}),children:Object(pe.jsx)("span",{children:"String Material (global)"})})}),Object(pe.jsx)(Be,{variant:1.14===c?"primary":1.14===t?"dark":"secondary",onClick:function(){return s(1.14)},children:"Nylon"}),Object(pe.jsx)(Be,{variant:8.77===c?"primary":8.77===t?"dark":"secondary",onClick:function(){return s(8.77)},children:"Brass"}),Object(pe.jsx)(Be,{variant:7.8===c?"primary":7.8===t?"dark":"secondary",onClick:function(){return s(7.8)},children:"Steel"}),Object(pe.jsx)(Be,{variant:8.94===c?"primary":8.94===t?"dark":"secondary",onClick:function(){return s(8.94)},children:"Copper"}),Object(pe.jsx)(Be,{variant:8.85===c?"primary":8.85===t?"dark":"secondary",onClick:function(){return s(8.85)},children:"Phosphor Bronze"}),Object(pe.jsx)(Ge,{className:"btn-sm mt-2",variant:"secondary",onClick:function(){return o(c)},disabled:t===c,children:"Apply"})]})},Be=Object(he.a)(de.a)(S||(S=Object(te.a)(["\n  margin-right: 1rem;\n  margin-bottom: 0.5rem;\n"]))),Ge=Object(he.a)(de.a)(N||(N=Object(te.a)(["\n  display: block;\n"]))),Re=[{name:"d\u2019Addario PB020 0.51mm",diameter:.51,linearMassDensity:.00145},{name:"d\u2019Addario PB021 0.53mm",diameter:.53,linearMassDensity:.0016},{name:"d\u2019Addario PB022 0.56mm",diameter:.56,linearMassDensity:.00176},{name:"d\u2019Addario PB023 0.58mm",diameter:.58,linearMassDensity:.00193},{name:"d\u2019Addario PB024 0.61mm",diameter:.61,linearMassDensity:.00209},{name:"d\u2019Addario PB025 0.64mm",diameter:.64,linearMassDensity:.00227},{name:"d\u2019Addario PB026 0.66mm",diameter:.66,linearMassDensity:.00244},{name:"d\u2019Addario PB027 0.69mm",diameter:.69,linearMassDensity:.00265},{name:"d\u2019Addario PB029 0.74mm",diameter:.74,linearMassDensity:.0031},{name:"d\u2019Addario PB030 0.76mm",diameter:.76,linearMassDensity:.00333},{name:"d\u2019Addario PB032 0.81mm",diameter:.81,linearMassDensity:.00375},{name:"d\u2019Addario PB034 0.86mm",diameter:.86,linearMassDensity:.00427},{name:"d\u2019Addario PB035 0.89mm",diameter:.89,linearMassDensity:.00453},{name:"d\u2019Addario PB036 0.91mm",diameter:.91,linearMassDensity:.00479},{name:"d\u2019Addario PB039 0.99mm",diameter:.99,linearMassDensity:.00556},{name:"d\u2019Addario PB042 1.07mm",diameter:1.07,linearMassDensity:.00656},{name:"d\u2019Addario PB045 1.14mm",diameter:1.14,linearMassDensity:.00746},{name:"d\u2019Addario PB047 1.19mm",diameter:1.19,linearMassDensity:.00809},{name:"d\u2019Addario PB049 1.24mm",diameter:1.24,linearMassDensity:.00878},{name:"d\u2019Addario PB052 1.32mm",diameter:1.32,linearMassDensity:.00986},{name:"d\u2019Addario PB053 1.35mm",diameter:1.35,linearMassDensity:.01017},{name:"d\u2019Addario PB056 1.42mm",diameter:1.42,linearMassDensity:.01134},{name:"d\u2019Addario PB059 1.50mm",diameter:1.5,linearMassDensity:.0126},{name:"d\u2019Addario PB060 1.52mm",diameter:1.52,linearMassDensity:.01304},{name:"d\u2019Addario PB062 1.57mm",diameter:1.57,linearMassDensity:.01387},{name:"d\u2019Addario PB064 1.63mm",diameter:1.63,linearMassDensity:.01478},{name:"d\u2019Addario PB066 1.68mm",diameter:1.68,linearMassDensity:.01566},{name:"d\u2019Addario PB070 1.78mm",diameter:1.78,linearMassDensity:.01729}],We=function(){var e=Object(i.b)(),t=Object(i.c)((function(e){return e.string})).selectedString,n=Object(r.useState)(0),a=Object(ne.a)(n,2),c=a[0],s=a[1],o=Object(r.useState)(0),u=Object(ne.a)(o,2),l=u[0],b=u[1],h=Object(r.useState)(0),O=Object(ne.a)(h,2),f=O[0],m=O[1],g=Object(r.useState)(0),p=Object(ne.a)(g,2),x=p[0],y=p[1],v=Object(r.useState)(0),k=Object(ne.a)(v,2),T=k[0],S=k[1],N=Object(r.useState)(0),D=Object(ne.a)(N,2),P=D[0],A=D[1],E=Object(r.useState)(.00145),C=Object(ne.a)(E,2),M=C[0],w=C[1],L=Object(r.useState)("tension"),_=Object(ne.a)(L,2),I=_[0],F=_[1];Object(r.useEffect)((function(){t&&(s(t.frequency),b(t.length),m(t.diameter),y(t.tension),S(t.materialDensity),A(t.linearMassDensity))}),[t]);return t?Object(pe.jsxs)(oe.a,{onSubmit:function(n){n.preventDefault();var r=parseFloat(c),a=parseFloat(l),i=parseFloat(f),s=parseFloat(x);switch(I){case"frequency":r=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.14,a=(arguments.length>4&&void 0!==arguments[4]?arguments[4]:0)||Math.pow(n/2,2)*Math.PI*r*1e3;return Math.sqrt(9.807*t/a)/(2*e)}(l/1e3,x,f/1e3,T,0===T?P:-1===T?M:0);break;case"length":a=1e3*function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.14,a=(arguments.length>4&&void 0!==arguments[4]?arguments[4]:0)||Math.pow(n/2,2)*Math.PI*r*1e3;return Math.sqrt(9.807*t/a)/(2*e)}(c,x,f/1e3,T,0===T?P:-1===T?M:0);break;case"diameter":i=1e3*function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.14;return 2*Math.sqrt(9.807*n/(Math.pow(2*t*e,2)*(Math.PI*r*1e3)))}(c,l/1e3,x,T);break;case"tension":s=q(c,l/1e3,f/1e3,T,0===T?P:-1===T?M:0)}var o={frequency:r,length:a,diameter:i,tension:s,materialDensity:T};0===T&&(o=Object(d.a)(Object(d.a)({},o),{},{linearMassDensity:parseFloat(P)})),-1===T&&(o=Object(d.a)(Object(d.a)({},o),{},{linearMassDensity:M})),e(function(e,t){return function(){var n=Object(ge.a)(me.a.mark((function n(r){return me.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:r(Object(j.a)("UPDATE_STRING")({stringId:e,params:t}));case 1:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}(t.id,o))},children:[Object(pe.jsxs)("h5",{children:["String (",t.note,")"]}),Object(pe.jsxs)(oe.a.Group,{className:"mb-1",children:[Object(pe.jsx)(oe.a.Label,{children:"Frequency"}),Object(pe.jsxs)(ue.a,{children:[Object(pe.jsx)(oe.a.Control,{type:"number",value:c,onChange:function(e){return s(e.target.value)},disabled:"frequency"===I}),Object(pe.jsx)(He,{children:"Hz"}),Object(pe.jsx)(Je,{children:Object(pe.jsx)(oe.a.Check,{type:"radio",checked:"frequency"===I,onChange:function(){return F("frequency")},name:"stringinput"})})]})]}),Object(pe.jsxs)(oe.a.Group,{className:"mb-1",children:[Object(pe.jsx)(oe.a.Label,{children:"Length"}),Object(pe.jsxs)(ue.a,{children:[Object(pe.jsx)(oe.a.Control,{type:"number",value:l,onChange:function(e){return b(e.target.value)},disabled:"length"===I}),Object(pe.jsx)(He,{children:"mm"}),Object(pe.jsx)(Je,{children:Object(pe.jsx)(oe.a.Check,{type:"radio",checked:"length"===I,onChange:function(){return F("length")},name:"stringinput"})})]})]}),T>0&&Object(pe.jsxs)(oe.a.Group,{className:"mb-1",children:[Object(pe.jsx)(oe.a.Label,{children:"Diameter"}),Object(pe.jsxs)(ue.a,{children:[Object(pe.jsx)(oe.a.Control,{type:"number",value:f,onChange:function(e){return m(e.target.value)},disabled:"diameter"===I}),Object(pe.jsx)(He,{children:"mm"}),Object(pe.jsx)(Je,{children:Object(pe.jsx)(oe.a.Check,{type:"radio",checked:"diameter"===I,onChange:function(){return F("diameter")},name:"stringinput"})})]})]}),Object(pe.jsxs)(oe.a.Group,{className:"mb-1",children:[Object(pe.jsx)(oe.a.Label,{children:"Tension"}),Object(pe.jsxs)(ue.a,{children:[Object(pe.jsx)(oe.a.Control,{type:"number",value:x,onChange:function(e){return y(e.target.value)},disabled:"tension"===I}),Object(pe.jsx)(He,{children:"kg"}),Object(pe.jsx)(Je,{children:Object(pe.jsx)(oe.a.Check,{type:"radio",checked:"tension"===I,onChange:function(){return F("tension")},name:"stringinput"})})]})]}),Object(pe.jsxs)(oe.a.Group,{className:0===T||-1===T?"mb-1":"mb-3",children:[Object(pe.jsx)(oe.a.Label,{children:"Material"}),Object(pe.jsxs)(oe.a.Select,{value:T,onChange:function(e){"0"!==e.target.value&&"-1"!==e.target.value||"diameter"!==I||F("tension"),S(parseFloat(e.target.value))},children:[Object(pe.jsx)("option",{value:1.14,children:"Nylon"}),Object(pe.jsx)("option",{value:8.77,children:"Brass"}),Object(pe.jsx)("option",{value:7.8,children:"Steel"}),Object(pe.jsx)("option",{value:8.94,children:"Copper"}),Object(pe.jsx)("option",{value:8.85,children:"Phosphor Bronze"}),Object(pe.jsx)("option",{value:-1,children:"Phosphor Bronze Wound"}),Object(pe.jsx)("option",{value:0,children:"Other"})]})]}),-1===T&&Object(pe.jsxs)(oe.a.Group,{className:"mb-3",children:[Object(pe.jsx)(oe.a.Label,{children:"String Gauge"}),Object(pe.jsx)(oe.a.Select,{value:M,onChange:function(e){w(parseFloat(e.target.value))},children:Re.map((function(e){return Object(pe.jsx)("option",{value:e.linearMassDensity,children:e.name},e.diameter)}))})]}),0===T&&Object(pe.jsxs)(oe.a.Group,{className:"mb-3",children:[Object(pe.jsx)(oe.a.Label,{children:"Linear Mass Density (mass/length)"}),Object(pe.jsxs)(ue.a,{children:[Object(pe.jsx)(oe.a.Control,{type:"number",value:P,onChange:function(e){return A(e.target.value)}}),Object(pe.jsx)(He,{children:"kg/m"})]})]}),Object(pe.jsx)(de.a,{className:"btn-sm",type:"submit",variant:"secondary",disabled:!((c||"frequency"===I)&&(l||"length"===I)&&(f||"diameter"===I)&&(x||"tension"===I)),children:"Apply"})]}):null},He=Object(he.a)(ue.a.Text)(D||(D=Object(te.a)(["\n  min-width: 70px;\n  display: inline-block;\n  text-align: center;\n"]))),Je=he.a.div(P||(P=Object(te.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  padding: 0 10px;\n"]))),Ke=function(){return Object(pe.jsxs)(Ye,{children:[Object(pe.jsx)(ze,{children:Object(pe.jsx)(xe,{})}),Object(pe.jsx)(ze,{children:Object(pe.jsx)(we,{})}),Object(pe.jsx)(ze,{children:Object(pe.jsx)(Se,{})}),Object(pe.jsx)(ze,{children:Object(pe.jsx)(De,{})}),Object(pe.jsx)(ze,{children:Object(pe.jsx)(Ue,{})}),Object(pe.jsx)(ze,{children:Object(pe.jsx)(qe,{})}),Object(pe.jsx)(ze,{children:Object(pe.jsx)(We,{})})]})},Ye=Object(he.a)(ie.a)(A||(A=Object(te.a)(["\n  max-height: 90vh;\n  overflow: auto;\n"]))),ze=he.a.div(E||(E=Object(te.a)(["\n  margin-bottom: 1.3rem;\n"]))),Xe=n(16),Ve=function(e){var t=e.start,n=e.end,a=e.dispatch,c=Object(r.useRef)(null),i=Object(r.useState)(n),s=Object(ne.a)(i,2),o=s[0],u=s[1],l=Object(r.useState)(0),d=Object(ne.a)(l,2),j=d[0],b=d[1];return Object(r.useEffect)((function(){a(ke({x:c.current.x(),y:c.current.y()}))}),[c,a]),Object(r.useEffect)((function(){var e=.4*Math.sqrt(Math.pow(n.x-t.x,2)+Math.pow(n.y-t.y,2));a(Te(e))}),[]),Object(r.useEffect)((function(){if(n.y!==o.y){var e=.4*Math.sqrt(Math.pow(n.x-t.x,2)+Math.pow(n.y-t.y,2));a(Te(e)),a(ke({x:c.current.x(),y:c.current.y()})),u(n)}}),[a,n]),Object(pe.jsxs)(pe.Fragment,{children:[Object(pe.jsx)(Xe.f,{stroke:"black",strokeWidth:5,lineJoin:"round",sceneFunc:function(e,r){var a,i;e.beginPath(),e.moveTo(t.x,t.y),e.quadraticCurveTo(null===(a=c.current)||void 0===a?void 0:a.x(),null===(i=c.current)||void 0===i?void 0:i.y(),n.x,n.y),e.lineTo(n.x,n.y+30),e.lineTo(t.x+100,t.y),e.closePath(),e.fillStrokeShape(r)}}),Object(pe.jsx)(Xe.b,{ref:c,x:(t.x+n.x)/2,y:(t.y+n.y)/2-j,radius:20,stroke:"#666",fill:"#ddd",strokeWidth:2,draggable:!0,onMouseEnter:function(){document.body.style.cursor="pointer",this.strokeWidth(4)},onMouseLeave:function(){document.body.style.cursor="default",this.strokeWidth(2)},onDragMove:function(){this.x((t.x+n.x)/2)},onDragEnd:function(e){a(ke({x:this.x(),y:this.y()})),b((t.y+n.y)/2-e.target.y())}})]})},Qe=function(e){var t=e.start,n=e.end,r=e.dStart,a=e.dEnd,c=e.width,s=void 0===c?30:c;return"D Shape"===Object(i.c)((function(e){return e.pillar})).shape?Object(pe.jsx)(Xe.f,{stroke:"black",strokeWidth:5,lineCap:"round",sceneFunc:function(e,c){e.beginPath(),e.moveTo(t.x,t.y),e.quadraticCurveTo((t.x+n.x)/2-100,(t.y+n.y)/2,n.x,n.y+50),e.moveTo(r.x,r.y),e.quadraticCurveTo((r.x+a.x)/2-100,(r.y+a.y)/2,a.x,a.y+15),e.fillStrokeShape(c)},className:"Pillar"}):Object(pe.jsx)(Xe.e,{x:0,y:0,points:[t.x,t.y,n.x,n.y,n.x-s,n.y,t.x-s,t.y],stroke:"black",strokeWidth:5,closed:!0,lineJoin:"round",lineCap:"round",className:"Pillar"})},Ze=function(e){var t=e.start,n=e.end,r=e.yOffset,a=e.harpHeight,c=Object(i.c)((function(e){return e.string})),s=c.strings,o=c.defaultStringLengths,u=c.stringSpacing,d=c.stringNumber,j=Object(i.c)((function(e){return e.soundboard})).control,b=Object(i.c)((function(e){return e.pillar})).shape;return Object(pe.jsx)(pe.Fragment,{children:j&&Object(pe.jsx)(pe.Fragment,{children:Object(pe.jsx)(Xe.e,{x:0,y:0,tension:.3,points:[t.x,"Straight"===b?t.y:t.y+50].concat(Object(l.a)(tt(s,o,h(-4,r,a),j.y,n.y,u,-40,d)),[n.x,n.y-30,n.x+20,n.y,n.x,n.y+30,n.x,n.y],Object(l.a)(et(s,o,h(-4,r,a),j.y,n.y,u,10,d)),[t.x,t.y+50]),stroke:"black",strokeWidth:5,lineCap:"round",className:"Neck"})})})},$e=function(e,t,n,r,a,c,i){return e.map((function(e,s){var o=O((s+4)/(i+7),t,n,r);return[b(s,a),o-.4*e+c]}))},et=function(e,t,n,r,a,c,i,s){var o=$e(e.map((function(e){return e.length})),n,r,a,c,i,s),u=$e(t,n,r,a,c,i,s),l=[];return o.forEach((function(n,r){var a=e[r].length-t[r];r%6===0&&a>-10?l.push(u[r]):(r%6===0||a<-10)&&l.push(n)})),l.reverse().flat()},tt=function(e,t,n,r,a,c,i,s){var o=$e(e.map((function(e){return e.length})),n,r,a,c,i,s),u=$e(t,n,r,a,c,i,s),l=[];return o.forEach((function(n,r){var a=e[r].length-t[r];r%6===0&&a<50?l.push(u[r]):(r%6===0||a>50)&&l.push(n)})),l.flat()},nt=function(e){var t=e.start,n=e.end,r=e.string,a=e.stroke,c=void 0===a?"white":a,s=Object(i.c)((function(e){return e.settings})).backgroundColor;return Object(pe.jsxs)(pe.Fragment,{children:[Object(pe.jsx)(Xe.f,{stroke:"white"===s&&"white"===c?"silver":c,strokeWidth:3,lineCap:"round",string:r,sceneFunc:function(e,r){e.beginPath(),e.moveTo(t.x,t.y),e.lineTo(n.x,n.y-20),e.fillStrokeShape(r)}}),Object(pe.jsx)(Xe.b,{x:n.x,y:n.y||0,stroke:"gray",radius:2,listening:!1}),Object(pe.jsx)(Xe.b,{x:n.x,y:n.y-20||0,stroke:"gray",radius:3,listening:!1})]})},rt=function(e){var t=e.yOffset,n=e.width,r=e.height,a=Object(i.c)((function(e){return e.string})),c=a.stringSpacing,s=a.stringNumber;return Object(pe.jsxs)(pe.Fragment,{children:[Object(pe.jsx)(Xe.a,{points:[b(-4,c)-90,r/2-10,b(-4,c)-90,h(-4,t,r)-r],stroke:"blue"}),Object(pe.jsx)(Xe.a,{points:[b(-4,c)-90,r/2+40,b(-4,c)-90,h(-4,t,r)],stroke:"blue"}),Object(pe.jsxs)(Xe.c,{x:b(-4,c)-90,y:r/2,listening:!1,children:[Object(pe.jsx)(Xe.h,{fill:"black",pointerDirection:"up",pointerWidth:0,pointerHeight:0,lineJoin:"round"}),Object(pe.jsx)(Xe.i,{text:Math.round(r/.4)+" mm",fontSize:18,padding:5,fill:"white"})]}),Object(pe.jsx)(Xe.a,{points:[b(-4,c)+(b(s+3,c)-b(-4,c))/2+10,h(-4,t,r)-r-30,b(s+3,c)+20,h(-4,t,r)-r-30],stroke:"blue"}),Object(pe.jsx)(Xe.a,{points:[b(-4,c)+(b(s+3,c)-b(-4,c))/2-100,h(-4,t,r)-r-30,b(-4,c)-30,h(-4,t,r)-r-30],stroke:"blue"}),Object(pe.jsxs)(Xe.c,{x:b(-4,c)+(b(s+3,c)-b(-4,c))/2,y:h(-4,t,r)-r-30,listening:!1,children:[Object(pe.jsx)(Xe.h,{fill:"black",pointerDirection:"right",pointerWidth:0,pointerHeight:0,lineJoin:"round"}),Object(pe.jsx)(Xe.i,{text:Math.round(n/.4)+" mm",fontSize:18,padding:5,fill:"white"})]})]})},at=function(){var e=Object(i.b)(),t=Object(i.c)((function(e){return e.string})),n=t.strings,a=t.defaultStringLengths,c=t.stringSpacing,s=t.stringNumber,o=t.totalLoad,u=t.yOffset,d=Object(i.c)((function(e){return e.soundboard})),f=d.angle,m=d.control,g=d.stringBandThickness,p=d.length,x=Object(i.c)((function(e){return e.pillar})),y=x.neckJointWidth,v=x.shape,k=x.pillarDiameter,T=x.pillarWidth,S=x.pillarThickness,N=Object(i.c)((function(e){return e.neck})),D=N.neckStyle,P=N.neckThickness,A=N.tuningPinLength,E=N.frontNeckThickness,C=N.backNeckThickness,M=N.frontNeckTuningPostLength,w=N.backNeckTuningPostLength,L=Object(r.useState)(b(s+3,c)+20-(b(-4,c)-30)),_=Object(ne.a)(L,2),I=_[0],q=_[1],F=Object(r.useState)(1214.57*.48),U=Object(ne.a)(F,2),B=U[0],G=U[1],J=Object(r.useRef)(null),K=Object(r.useMemo)((function(){var e=0;return Object(l.a)(n).reverse().forEach((function(t,n){n%2===0&&(e+=t.tension)})),e}),[n]),Y=Object(r.useMemo)((function(){var e=0;return Object(l.a)(n).reverse().forEach((function(t,n){n%2===1&&(e+=t.tension)})),e}),[n]),z=Object(r.useMemo)((function(){return M/1e3*K*9.807-w/1e3*Y*9.807}),[M,w,K,Y]);return Object(r.useEffect)((function(){e(function(e){return function(){var t=Object(ge.a)(me.a.mark((function t(n){return me.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n(Object(j.a)("UPDATE_Y_OFFSET")({yOffset:e}));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(function(e,t){var n=e*Math.PI/180;return t*Math.tan(n)}(f,c)))}),[f,c,e]),Object(r.useEffect)((function(){q(b(s+3,c)+20-(b(-4,c)-30))}),[s,c]),Object(r.useEffect)((function(){var e=0;n.forEach((function(t,n){var r=O((n+4)/(s+7),h(-4,u,B),null===m||void 0===m?void 0:m.y,h(s+3,u,B)),a=h(-4,u,B)-r+.4*t.length+40;a>e&&(e=a)})),G(e>.48*a[0]?Math.round(e):.48*a[0])}),[a,m,s,n,u]),Object(pe.jsx)(Xe.g,{width:I+300,height:B+300,children:Object(pe.jsxs)(i.a,{store:ee,children:[Object(pe.jsxs)(Xe.d,{onClick:function(e){J.current.position({x:e.evt.layerX,y:e.evt.layerY-5}),"Neck"===e.target.attrs.className?"Standard"===D?J.current.getText().text("Neck\n\nNeck Style: ".concat(D,"\nTensile Stress: ").concat((R((b(s+3,c)+20-(b(-4,c)-30))/.4/1e3,P/1e3,9.807*o)/1e6).toFixed(6)," MPa\nTorque: ").concat((A/1e3*o*9.807).toFixed(6)," N m\nNeck Thickness: ").concat(P," mm\nTuning Pin Length: ").concat(A," mm")):J.current.getText().text("Neck\n\nNeck Style: ".concat(D,"\nTorque Imbalance: ").concat(z.toFixed(6)," N m\n\nFront Neck\nTensile Stress: ").concat((R((b(s+3,c)+20-(b(-4,c)-30))/.4/1e3,E/1e3,K/2*9.807)/1e6).toFixed(6)," MPa\nNeck Thickness: ").concat(E," mm\nTuning Post Length: ").concat(M," mm\n\nBack Neck\nTensile Stress: ").concat((R((b(s+3,c)+20-(b(-4,c)-30))/.4/1e3,C/1e3,Y/2*9.807)/1e6).toFixed(6)," MPa\nNeck Thickness: ").concat(C," mm\nTuning Post Length: ").concat(w," mm")):"Pillar"===e.target.attrs.className&&("Straight"===v?J.current.getText().text("Pillar\n\nCompresive Stress: ".concat((.6*o*9.807/W(k)/1e6).toFixed(6)," MPa\nPillar Diameter: ").concat(k," mm")):J.current.getText().text("Pillar\n\nCompresive Stress: ".concat((.6*o*9.807/H(T,S)/1e6).toFixed(6)," MPa\nPillar Width: ").concat(T," mm\nPillar Thickness: ").concat(S," mm"))),J.current.show()},onMouseOver:function(e){document.body.style.cursor="pointer",e.target.strokeWidth(7)},onMouseOut:function(e){document.body.style.cursor="default",e.target.strokeWidth(5),J.current.hide()},children:[Object(pe.jsx)(Qe,{start:{x:b(-4,c),y:h(-4,u,B)},end:{x:b(-4,c),y:h(-4,u,B)-.48*a[0]},dStart:{x:b(-2,c),y:O(2/(s+7),h(-4,u,B),null===m||void 0===m?void 0:m.y,h(s+3,u,B))},dEnd:{x:b(y,c),y:O((4+y)/(s+7),h(-4,u,B),null===m||void 0===m?void 0:m.y,h(s+3,u,B))-.4*n[y].length}}),Object(pe.jsx)(Ze,{start:{x:b(-4,c),y:h(-4,u,B)-.48*a[0]},end:{x:b(s+3,c),y:h(s+3,u,B)},yOffset:u,harpHeight:B})]}),Object(pe.jsx)(Xe.d,{onClick:function(t){var n;e((n=t.target.attrs.string.id,function(){var e=Object(ge.a)(me.a.mark((function e(t){return me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t(Object(j.a)("SELECT_STRING")({stringId:n}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()))},onMouseOver:function(e){var t=e.target.attrs.string;document.body.style.cursor="pointer",e.target.strokeWidth(5),J.current.getText().text("".concat(t.note,"\n\nFrequency: ").concat(t.frequency," Hz\nLength: ").concat(t.length," mm\nDiameter: ").concat(Number(t.diameter).toFixed(2)," mm\nTension: ").concat(t.tension.toFixed(2)," kg")),J.current.position({x:e.evt.layerX,y:e.evt.layerY-5}),J.current.show()},onMouseOut:function(e){document.body.style.cursor="default",e.target.strokeWidth(3),J.current.hide()},children:n.map((function(e,t){var n=O((t+4)/(s+7),h(-4,u,B),null===m||void 0===m?void 0:m.y,h(s+3,u,B));return Object(pe.jsx)(nt,{start:{x:b(t,c),y:n},end:{x:b(t,c),y:n-.4*e.length},string:e,stroke:"C"===e.note.charAt(0)&&2===e.note.length?"red":"F"===e.note.charAt(0)&&2===e.note.length?"blue":"white"},e.id)}))}),Object(pe.jsx)(Xe.d,{onClick:function(e){J.current.position({x:e.evt.layerX,y:e.evt.layerY-5}),J.current.getText().text("Body\n\nSoundboard Angle: ".concat(f," degrees\nSoundboard Tensile Stress: ").concat((R(p/1e3,g/1e3,.5*o*9.807)/1e6).toFixed(6)," MPa\nString Band Thickness: ").concat(g," mm")),J.current.show()},onMouseOver:function(e){document.body.style.cursor="pointer",e.target.strokeWidth(7)},onMouseOut:function(e){document.body.style.cursor="default",e.target.strokeWidth(5),J.current.hide()},children:Object(pe.jsx)(Ve,{start:{x:b(-4,c),y:h(-4,u,B)},end:{x:b(s+3,c),y:h(s+3,u,B)},dispatch:e})}),Object(pe.jsxs)(Xe.d,{children:[Object(pe.jsx)(rt,{yOffset:u,width:I,height:B}),Object(pe.jsxs)(Xe.c,{opacity:.8,visible:!1,listening:!1,ref:J,children:[Object(pe.jsx)(Xe.h,{fill:"black",pointerDirection:"down",pointerWidth:10,pointerHeight:10,lineJoin:"round"}),Object(pe.jsx)(Xe.i,{text:"",fontSize:18,padding:5,fill:"white"})]})]})]})})},ct=n(11),it=function(e){return function(){var t=Object(ge.a)(me.a.mark((function t(n){return me.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n(Object(j.a)("UPDATE_BACKGROUND_COLOR")({color:e}));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()};n(95),n(96);var st=function(){var e=Object(i.b)(),t=Object(i.c)((function(e){return e.settings})).backgroundColor,n=ae.a.omit(Object(i.c)((function(e){return e})),"settings"),a=Object(r.useState)(!1),c=Object(ne.a)(a,2),s=c[0],o=c[1],u=Object(r.useState)(""),l=Object(ne.a)(u,2),b=l[0],h=l[1],O=Object(r.useState)(""),f=Object(ne.a)(O,2),m=f[0],g=f[1],p=Object(r.useState)([]),x=Object(ne.a)(p,2),y=x[0],v=x[1];Object(r.useEffect)((function(){var e=JSON.parse(localStorage.getItem("savedDesigns"));e&&(v(Object.keys(e)),g(Object.keys(e)[0]))}),[]);var k=function(){if(""!==b&&!y.includes(b)){e(function(e,t){return Object(ge.a)(me.a.mark((function n(){var r;return me.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:r=JSON.parse(localStorage.getItem("savedDesigns")),localStorage.setItem("savedDesigns",JSON.stringify(Object(d.a)(Object(d.a)({},r),{},Object(ct.a)({},e,t))));case 2:case"end":return n.stop()}}),n)})))}(b,n));var t=JSON.parse(localStorage.getItem("savedDesigns"));v(Object.keys(t)),h("")}},T=function(){y.includes(m)&&e(function(e){return function(){var t=Object(ge.a)(me.a.mark((function t(n){var r;return me.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=JSON.parse(localStorage.getItem("savedDesigns"))[e],n(Object(j.a)("UPDATE_STRING_STATE")({state:r.string})),n(Object(j.a)("UPDATE_NECK_STATE")({state:r.neck})),n(Object(j.a)("UPDATE_PILLAR_STATE")({state:r.pillar})),n(Object(j.a)("UPDATE_SOUNDBOARD_STATE")({state:r.soundboard}));case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(m))};return Object(pe.jsxs)(ot,{className:"App",backgroundColor:t,children:[Object(pe.jsx)(ce.a,{className:"mb-3",bg:"dark",variant:"dark",children:Object(pe.jsxs)(ie.a,{children:[Object(pe.jsx)(ce.a.Brand,{children:"Harp Designer"}),Object(pe.jsx)(dt,{variant:"dark",onClick:function(){return o(!0)},children:Object(pe.jsx)(Oe.a,{})})]})}),Object(pe.jsxs)(jt,{show:s,onHide:function(){return o(!1)},placement:"end",children:[Object(pe.jsx)(se.a.Header,{closeButton:!0,children:Object(pe.jsx)(se.a.Title,{children:"Settings"})}),Object(pe.jsxs)(se.a.Body,{children:[Object(pe.jsxs)(bt,{children:[Object(pe.jsx)("h5",{children:"Background Color"}),Object(pe.jsx)(ut,{color:"burlywood",onClick:function(){return e(it("burlywood"))}}),Object(pe.jsx)(ut,{color:"white",onClick:function(){return e(it("white"))}})]}),Object(pe.jsxs)(bt,{children:[Object(pe.jsx)("h5",{children:"Manage Designs"}),Object(pe.jsx)(oe.a.Label,{children:"Save Current Design"}),Object(pe.jsxs)(ue.a,{className:"mb-3",children:[Object(pe.jsx)(le.a,{placeholder:"Please enter a name ...",value:b,onChange:function(e){return h(e.target.value)}}),Object(pe.jsx)(de.a,{onClick:function(){return k()},children:"Save"})]}),Object(pe.jsx)(oe.a.Label,{children:"Load Design"}),Object(pe.jsxs)(ue.a,{className:"mb-3",children:[Object(pe.jsx)(oe.a.Select,{value:m,onChange:function(e){return g(e.target.value)},children:y.map((function(e){return Object(pe.jsx)("option",{value:e,children:e},e)}))}),Object(pe.jsx)(de.a,{onClick:function(){return T()},children:"Load"})]})]})]})]}),Object(pe.jsxs)(je.a,{children:[Object(pe.jsx)(be.a,{md:3,children:Object(pe.jsx)(Ke,{})}),Object(pe.jsx)(lt,{md:9,children:Object(pe.jsx)(at,{})})]})]})},ot=he.a.div(C||(C=Object(te.a)(["\n  background-color: ",";\n"])),(function(e){return e.backgroundColor})),ut=he.a.div(M||(M=Object(te.a)(["\n  display: inline-block;\n  width: 2rem;\n  height: 2rem;\n  border: none;\n  border-radius: 3px;\n  margin: 0.5rem 1rem;\n  background-color: ",";\n  cursor: pointer;\n"])),(function(e){return e.color})),lt=Object(he.a)(be.a)(w||(w=Object(te.a)(["\n  overflow: scroll;\n"]))),dt=Object(he.a)(de.a)(L||(L=Object(te.a)(["\n  border: none;\n"]))),jt=Object(he.a)(se.a)(_||(_=Object(te.a)(["\n  background-color: #212529;\n  color: white;\n"]))),bt=he.a.div(I||(I=Object(te.a)(["\n  margin-bottom: 1rem;\n"]))),ht=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,110)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,c=t.getLCP,i=t.getTTFB;n(e),r(e),a(e),c(e),i(e)}))};c.a.render(Object(pe.jsx)(i.a,{store:ee,children:Object(pe.jsx)(st,{})}),document.getElementById("root")),ht()}},[[97,1,2]]]);
//# sourceMappingURL=main.f985eac6.chunk.js.map